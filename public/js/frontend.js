function pageUpdate(){$("#user_name").val()&&$("#email").val()&&$("#password").val()?$("#modalSuccessButton").click():$("#modalErrorButton").click()}function updateForm(){document.getElementById("form-part-2").style.display=""}function changeCoordinates(t){for(var e,i=650/$("#"+t+"_img").attr("orgWidth"),n=[],r=1;r<=$("#"+t+"_poly_count").val();r++){e=$("#"+t+"_poly_"+r).attr("coords"),n=e.split(",");for(var o=0;o<n.length;o++)n[o]=n[o]*i,n[o]=Math.trunc(n[o]);document.getElementById(t+"_poly_"+r).coords=n.join()}}function changeTitle(t){for(var e,i=1;i<=$("#"+t+"_poly_count").val();i++)e=$("#"+t+"_poly_"+i).attr("title"),document.getElementById(t+"_poly_"+i).title=e.replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})}function firstFilterF(t){$("#country option:selected").text(t);var e=t;t=e.toLowerCase(),t=t.replace(/ /g,"_"),currentCountry=t,$("tr").addClass("out"),$("tr").removeClass("in"),$("tr."+t).addClass("in"),$("tr."+t).removeClass("out"),fillRegions(t);var i="<option value='' disabled selected>Select One</option>;"+fillRegions(t);document.getElementById("region").innerHTML=i,document.getElementById("regionFormGroup").style.display="",$(".mapContainer").hide(),"new_zealand"==t?document.getElementById("mapListing").style.display="":"canada"==t?document.getElementById("canada_map").style.marginTop="-150px":"australia"==t&&(document.getElementById("australia_map").style.marginTop="-15px"),$("#backButton").attr("onclick","window.location.reload()"),document.getElementById("backButton").style.display="",$("#"+t+"_map").show(),document.getElementById(t+"_map").style.visibility="",document.getElementById(t+"_map").style.height="",document.getElementById("divisionFormGroup").style.display="",document.getElementById("countryFormGroup").style.display="none"}function fillRegions(t){for(var e=document.getElementById(t).innerHTML,i=e.split(","),n="",r=0;r<i.length;r++)n+="<option>"+i[r]+"</option>; ";return n}function secondFilterF(t){$("select#region option:selected").text(t);var e=t;t=e.toLowerCase(),t=t.replace(/ /g,"_"),$("tr").addClass("out"),$("tr").removeClass("in"),$("tr."+t).addClass("in"),$("tr."+t).removeClass("out"),$(".mapContainer").hide(),document.getElementById("mapListing").style.display="",$("#backButton").attr("onclick","firstFilterF('"+currentCountry+"')")}function initPlugin(){FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:"http://www.w3.org/2000/svg"},FSS.Array="function"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;e.length>i&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),r=window.setTimeout(function(){e(i+n)},n);return t=i+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(t,e){return t+(e-t)*Math.random()},Math.clamp=function(t,e,i){return t=Math.max(t,e),t=Math.min(t,i)},FSS.Vector3={create:function(t,e,i){var n=new FSS.Array(3);return this.set(n,t,e,i),n},clone:function(t){var e=this.create();return this.copy(e,t),e},set:function(t,e,i,n){return t[0]=e||0,t[1]=i||0,t[2]=n||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],this},addVectors:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],this},addScalar:function(t,e){return t[0]+=e,t[1]+=e,t[2]+=e,this},subtract:function(t,e){return t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],this},subtractVectors:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],this},subtractScalar:function(t,e){return t[0]-=e,t[1]-=e,t[2]-=e,this},multiply:function(t,e){return t[0]*=e[0],t[1]*=e[1],t[2]*=e[2],this},multiplyVectors:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,this},divide:function(t,e){return t[0]/=e[0],t[1]/=e[1],t[2]/=e[2],this},divideVectors:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],this},divideScalar:function(t,e){return 0!==e?(t[0]/=e,t[1]/=e,t[2]/=e):(t[0]=0,t[1]=0,t[2]=0),this},cross:function(t,e){var i=t[0],n=t[1],r=t[2];return t[0]=n*e[2]-r*e[1],t[1]=r*e[0]-i*e[2],t[2]=i*e[1]-n*e[0],this},crossVectors:function(t,e,i){return t[0]=e[1]*i[2]-e[2]*i[1],t[1]=e[2]*i[0]-e[0]*i[2],t[2]=e[0]*i[1]-e[1]*i[0],this},min:function(t,e){return e>t[0]&&(t[0]=e),e>t[1]&&(t[1]=e),e>t[2]&&(t[2]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),this},clamp:function(t,e,i){return this.min(t,e),this.max(t,i),this},limit:function(t,e,i){var n=this.length(t);return null!==e&&e>n?this.setLength(t,e):null!==i&&n>i&&this.setLength(t,i),this},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalise:function(t){return this.divideScalar(t,this.length(t))},negate:function(t){return this.multiplyScalar(t,-1)},distanceSquared:function(t,e){var i=t[0]-e[0],n=t[1]-e[1],r=t[2]-e[2];return i*i+n*n+r*r},distance:function(t,e){return Math.sqrt(this.distanceSquared(t,e))},lengthSquared:function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},length:function(t){return Math.sqrt(this.lengthSquared(t))},setLength:function(t,e){var i=this.length(t);return 0!==i&&e!==i&&this.multiplyScalar(t,e/i),this}},FSS.Vector4={create:function(t,e,i){var n=new FSS.Array(4);return this.set(n,t,e,i),n},set:function(t,e,i,n,r){return t[0]=e||0,t[1]=i||0,t[2]=n||0,t[3]=r||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},setW:function(t,e){return t[3]=e||0,this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t[3]+=e[3],this},multiplyVectors:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,this},min:function(t,e){return e>t[0]&&(t[0]=e),e>t[1]&&(t[1]=e),e>t[2]&&(t[2]=e),e>t[3]&&(t[3]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),t[3]>e&&(t[3]=e),this},clamp:function(t,e,i){return this.min(t,e),this.max(t,i),this}},FSS.Color=function(t,e){this.rgba=FSS.Vector4.create(),this.hex=t||"#000000",this.opacity=FSS.Utils.isNumber(e)?e:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(t,e){t=t.replace("#","");var i=t.length/3;return this.rgba[0]=parseInt(t.substring(0*i,1*i),16)/255,this.rgba[1]=parseInt(t.substring(1*i,2*i),16)/255,this.rgba[2]=parseInt(t.substring(2*i,3*i),16)/255,this.rgba[3]=FSS.Utils.isNumber(e)?e:this.rgba[3],this},hexify:function(t){var e=Math.ceil(255*t).toString(16);return 1===e.length&&(e="0"+e),e},format:function(){var t=this.hexify(this.rgba[0]),e=this.hexify(this.rgba[1]),i=this.hexify(this.rgba[2]);return this.hex="#"+t+e+i,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(t,e,i){return FSS.Vector3.set(this.position,t,e,i),this}},FSS.Light=function(t,e){FSS.Object.call(this),this.ambient=new FSS.Color(t||"#FFFFFF"),this.diffuse=new FSS.Color(e||"#FFFFFF"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(t,e,i){this.position=FSS.Vector3.create(t,e,i)},FSS.Vertex.prototype={setPosition:function(t,e,i){return FSS.Vector3.set(this.position,t,e,i),this}},FSS.Triangle=function(t,e,i){this.a=t||new FSS.Vertex,this.b=e||new FSS.Vertex,this.c=i||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,"polygon"),this.polygon.setAttributeNS(null,"stroke-linejoin","round"),this.polygon.setAttributeNS(null,"stroke-miterlimit","1"),this.polygon.setAttributeNS(null,"stroke-width","1"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var t,e;for(t=this.triangles.length-1;t>=0;t--)e=this.triangles[t],e.computeCentroid(),e.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(t,e,i,n){FSS.Geometry.call(this),this.width=t||100,this.height=e||100,this.segments=i||4,this.slices=n||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var r,o,a,s,c,l,h,u=[],d=this.width*-.5,f=.5*this.height;for(r=0;this.segments>=r;r++)for(u.push([]),o=0;this.slices>=o;o++)h=new FSS.Vertex(d+r*this.segmentWidth,f-o*this.sliceHeight),u[r].push(h),this.vertices.push(h);for(r=0;this.segments>r;r++)for(o=0;this.slices>o;o++)a=u[r+0][o+0],s=u[r+0][o+1],c=u[r+1][o+0],l=u[r+1][o+1],t0=new FSS.Triangle(a,s,c),t1=new FSS.Triangle(c,s,l),this.triangles.push(t0,t1)},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(t,e){this.ambient=new FSS.Color(t||"#444444"),this.diffuse=new FSS.Color(e||"#FFFFFF"),this.slave=new FSS.Color},FSS.Mesh=function(t,e){FSS.Object.call(this),this.geometry=t||new FSS.Geometry,this.material=e||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(t,e){var i,n,r,o,a;if(this.geometry.update(),e)for(i=this.geometry.triangles.length-1;i>=0;i--){for(n=this.geometry.triangles[i],FSS.Vector4.set(n.color.rgba),r=t.length-1;r>=0;r--)o=t[r],FSS.Vector3.subtractVectors(o.ray,o.position,n.centroid),FSS.Vector3.normalise(o.ray),a=FSS.Vector3.dot(n.normal,o.ray),this.side===FSS.FRONT?a=Math.max(a,0):this.side===FSS.BACK?a=Math.abs(Math.min(a,0)):this.side===FSS.DOUBLE&&(a=Math.max(Math.abs(a),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,o.ambient.rgba),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,o.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,a),FSS.Vector4.add(n.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(n.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(t){return t instanceof FSS.Mesh&&!~this.meshes.indexOf(t)?this.meshes.push(t):t instanceof FSS.Light&&!~this.lights.indexOf(t)&&this.lights.push(t),this},remove:function(t){return t instanceof FSS.Mesh&&~this.meshes.indexOf(t)?this.meshes.splice(this.meshes.indexOf(t),1):t instanceof FSS.Light&&~this.lights.indexOf(t)&&this.lights.splice(this.lights.indexOf(t),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(t,e){return this.width!==t||this.height!==e?(this.width=t,this.height=e,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this):void 0},clear:function(){return this},render:function(){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.context=this.element.getContext("2d"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.width=t,this.element.height=e,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,i,n,r,o;for(this.clear(),this.context.lineJoin="round",this.context.lineWidth=1,e=t.meshes.length-1;e>=0;e--)if(i=t.meshes[e],i.visible)for(i.update(t.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)r=i.geometry.triangles[n],o=r.color.format(),this.context.beginPath(),this.context.moveTo(r.a.position[0],r.a.position[1]),this.context.lineTo(r.b.position[0],r.b.position[1]),this.context.lineTo(r.c.position[0],r.c.position[1]),this.context.closePath(),this.context.strokeStyle=o,this.context.fillStyle=o,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement("canvas"),this.element.style.display="block",this.vertices=null,this.lights=null;var t={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};return this.gl=this.getContext(this.element,t),this.unsupported=!this.gl,this.unsupported?"WebGL is not supported by your browser.":(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),void this.setSize(this.element.width,this.element.height))},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(t,e){var i=!1;try{if(!(i=t.getContext("experimental-webgl",e)))throw"Error creating WebGL context."}catch(n){console.error(n)}return i},FSS.WebGLRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.unsupported?void 0:(this.element.width=t,this.element.height=e,this.gl.viewport(0,0,t,e),this)},FSS.WebGLRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.unsupported?void 0:(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this)},FSS.WebGLRenderer.prototype.render=function(t){if(FSS.Renderer.prototype.render.call(this,t),!this.unsupported){var e,i,n,r,o,a,s,c,l,h,u,d,f,g,m,p=!1,S=t.lights.length,b=0;if(this.clear(),this.lights!==S){if(this.lights=S,!(this.lights>0))return;this.buildProgram(S)}if(this.program){for(e=t.meshes.length-1;e>=0;e--)i=t.meshes[e],i.geometry.dirty&&(p=!0),i.update(t.lights,!1),b+=3*i.geometry.triangles.length;if(p||this.vertices!==b){this.vertices=b;for(c in this.program.attributes){for(h=this.program.attributes[c],h.data=new FSS.Array(b*h.size),f=0,e=t.meshes.length-1;e>=0;e--)for(i=t.meshes[e],n=0,r=i.geometry.triangles.length;r>n;n++)for(o=i.geometry.triangles[n],g=0,m=o.vertices.length;m>g;g++){switch(vertex=o.vertices[g],c){case"side":this.setBufferData(f,h,i.side);break;case"position":this.setBufferData(f,h,vertex.position);break;case"centroid":this.setBufferData(f,h,o.centroid);break;case"normal":this.setBufferData(f,h,o.normal);break;case"ambient":this.setBufferData(f,h,i.material.ambient.rgba);break;case"diffuse":this.setBufferData(f,h,i.material.diffuse.rgba)}f++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,h.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,h.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(h.location),this.gl.vertexAttribPointer(h.location,h.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),a=S-1;a>=0;a--)s=t.lights[a],this.setBufferData(a,this.program.uniforms.lightPosition,s.position),this.setBufferData(a,this.program.uniforms.lightAmbient,s.ambient.rgba),this.setBufferData(a,this.program.uniforms.lightDiffuse,s.diffuse.rgba);for(l in this.program.uniforms)switch(h=this.program.uniforms[l],d=h.location,u=h.data,h.structure){case"3f":this.gl.uniform3f(d,u[0],u[1],u[2]);break;case"3fv":this.gl.uniform3fv(d,u);break;case"4fv":this.gl.uniform4fv(d,u)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(t,e,i){if(FSS.Utils.isNumber(i))e.data[t*e.size]=i;else for(var n=i.length-1;n>=0;n--)e.data[t*e.size+n]=i[n]},FSS.WebGLRenderer.prototype.buildProgram=function(t){if(!this.unsupported){var e=FSS.WebGLRenderer.VS(t),i=FSS.WebGLRenderer.FS(t),n=e+i;if(!this.program||this.program.code!==n){var r=this.gl.createProgram(),o=this.buildShader(this.gl.VERTEX_SHADER,e),a=this.buildShader(this.gl.FRAGMENT_SHADER,i);if(this.gl.attachShader(r,o),this.gl.attachShader(r,a),this.gl.linkProgram(r),!this.gl.getProgramParameter(r,this.gl.LINK_STATUS)){var s=this.gl.getError(),c=this.gl.getProgramParameter(r,this.gl.VALIDATE_STATUS);return console.error("Could not initialise shader.\nVALIDATE_STATUS: "+c+"\nERROR: "+s),null}return this.gl.deleteShader(a),this.gl.deleteShader(o),r.code=n,r.attributes={side:this.buildBuffer(r,"attribute","aSide",1,"f"),position:this.buildBuffer(r,"attribute","aPosition",3,"v3"),centroid:this.buildBuffer(r,"attribute","aCentroid",3,"v3"),normal:this.buildBuffer(r,"attribute","aNormal",3,"v3"),ambient:this.buildBuffer(r,"attribute","aAmbient",4,"v4"),diffuse:this.buildBuffer(r,"attribute","aDiffuse",4,"v4")},r.uniforms={resolution:this.buildBuffer(r,"uniform","uResolution",3,"3f",1),lightPosition:this.buildBuffer(r,"uniform","uLightPosition",3,"3fv",t),lightAmbient:this.buildBuffer(r,"uniform","uLightAmbient",4,"4fv",t),lightDiffuse:this.buildBuffer(r,"uniform","uLightDiffuse",4,"4fv",t)},this.program=r,this.gl.useProgram(this.program),r}}},FSS.WebGLRenderer.prototype.buildShader=function(t,e){if(!this.unsupported){var i=this.gl.createShader(t);return this.gl.shaderSource(i,e),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error(this.gl.getShaderInfoLog(i)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(t,e,i,n,r,o){var a={buffer:this.gl.createBuffer(),size:n,structure:r,data:null};switch(e){case"attribute":a.location=this.gl.getAttribLocation(t,i);break;case"uniform":a.location=this.gl.getUniformLocation(t,i)}return o&&(a.data=new FSS.Array(o*n)),a},FSS.WebGLRenderer.VS=function(t){var e=["precision mediump float;","#define LIGHTS "+t,"attribute float aSide;","attribute vec3 aPosition;","attribute vec3 aCentroid;","attribute vec3 aNormal;","attribute vec4 aAmbient;","attribute vec4 aDiffuse;","uniform vec3 uResolution;","uniform vec3 uLightPosition[LIGHTS];","uniform vec4 uLightAmbient[LIGHTS];","uniform vec4 uLightDiffuse[LIGHTS];","varying vec4 vColor;","void main() {","vColor = vec4(0.0);","vec3 position = aPosition / uResolution * 2.0;","for (int i = 0; i < LIGHTS; i++) {","vec3 lightPosition = uLightPosition[i];","vec4 lightAmbient = uLightAmbient[i];","vec4 lightDiffuse = uLightDiffuse[i];","vec3 ray = normalize(lightPosition - aCentroid);","float illuminance = dot(aNormal, ray);","if (aSide == 0.0) {","illuminance = max(illuminance, 0.0);","} else if (aSide == 1.0) {","illuminance = abs(min(illuminance, 0.0));","} else if (aSide == 2.0) {","illuminance = max(abs(illuminance), 0.0);","}","vColor += aAmbient * lightAmbient;","vColor += aDiffuse * lightDiffuse * illuminance;","}","vColor = clamp(vColor, 0.0, 1.0);","gl_Position = vec4(position, 1.0);","}"].join("\n");return e},FSS.WebGLRenderer.FS=function(){var t=["precision mediump float;","varying vec4 vColor;","void main() {","gl_FragColor = vColor;","}"].join("\n");return t},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,"svg"),this.element.setAttribute("xmlns",FSS.SVGNS),this.element.setAttribute("version","1.1"),this.element.style.display="block",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.setAttribute("width",t),this.element.setAttribute("height",e),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var t=this.element.childNodes.length-1;t>=0;t--)this.element.removeChild(this.element.childNodes[t]);return this},FSS.SVGRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,i,n,r,o,a;for(e=t.meshes.length-1;e>=0;e--)if(i=t.meshes[e],i.visible)for(i.update(t.lights,!0),n=i.geometry.triangles.length-1;n>=0;n--)r=i.geometry.triangles[n],r.polygon.parentNode!==this.element&&this.element.appendChild(r.polygon),o=this.formatPoint(r.a)+" ",o+=this.formatPoint(r.b)+" ",o+=this.formatPoint(r.c),a=this.formatStyle(r.color.format()),r.polygon.setAttributeNS(null,"points",o),r.polygon.setAttributeNS(null,"style",a);return this},FSS.SVGRenderer.prototype.formatPoint=function(t){return this.halfWidth+t.position[0]+","+(this.halfHeight-t.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(t){var e="fill:"+t+";";return e+="stroke:"+t+";"}}function initBackground(){function t(){e(),n(),r(),o(),h(),a(g.offsetWidth,g.offsetHeight),s()}function e(){F=new FSS.WebGLRenderer,k=new FSS.CanvasRenderer,x=new FSS.SVGRenderer,i(config.background.RENDER.renderer)}function i(t){S&&m.removeChild(S.element),S=k,S.setSize(g.offsetWidth,g.offsetHeight),m.appendChild(S.element)}function n(){b=new FSS.Scene}function r(){b.remove(v),S.clear(),y=new FSS.Plane(config.background.MESH.width*S.width,config.background.MESH.height*S.height,config.background.MESH.segments,config.background.MESH.slices),w=new FSS.Material(config.background.MESH.ambient,config.background.MESH.diffuse),v=new FSS.Mesh(y,w),b.add(v);var t,e;for(t=y.vertices.length-1;t>=0;t--)e=y.vertices[t],e.anchor=FSS.Vector3.clone(e.position),e.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1)),e.time=Math.randomInRange(0,Math.PIM2)}function o(){var t,e;for(t=b.lights.length-1;t>=0;t--)e=b.lights[t],b.remove(e);for(S.clear(),t=0;t<config.background.LIGHT.count;t++)e=new FSS.Light(config.background.LIGHT.ambient,config.background.LIGHT.diffuse),e.ambientHex=e.ambient.format(),e.diffuseHex=e.diffuse.format(),b.add(e),e.mass=Math.randomInRange(.5,1),e.velocity=FSS.Vector3.create(),e.acceleration=FSS.Vector3.create(),e.force=FSS.Vector3.create(),e.ring=document.createElementNS(FSS.SVGNS,"circle"),e.ring.setAttributeNS(null,"stroke",e.ambientHex),e.ring.setAttributeNS(null,"stroke-width","0.5"),e.ring.setAttributeNS(null,"fill","none"),e.ring.setAttributeNS(null,"r","10"),e.core=document.createElementNS(FSS.SVGNS,"circle"),e.core.setAttributeNS(null,"fill",e.diffuseHex),e.core.setAttributeNS(null,"r","4")}function a(t,e){S.setSize(t,e),FSS.Vector3.set(L,S.halfWidth,S.halfHeight),r()}function s(){p=Date.now()-C,c(),l(),requestAnimationFrame(s)}function c(){var t,e,i,n,r,o,a,s=config.background.MESH.depth/2;for(FSS.Vector3.copy(config.background.LIGHT.bounds,L),FSS.Vector3.multiplyScalar(config.background.LIGHT.bounds,config.background.LIGHT.xyScalar),FSS.Vector3.setZ(E,config.background.LIGHT.zOffset),config.background.LIGHT.autopilot&&(t=Math.sin(config.background.LIGHT.step[0]*p*config.background.LIGHT.speed),e=Math.cos(config.background.LIGHT.step[1]*p*config.background.LIGHT.speed),FSS.Vector3.set(E,config.background.LIGHT.bounds[0]*t,config.background.LIGHT.bounds[1]*e,config.background.LIGHT.zOffset)),n=b.lights.length-1;n>=0;n--){r=b.lights[n],FSS.Vector3.setZ(r.position,config.background.LIGHT.zOffset);var c=Math.clamp(FSS.Vector3.distanceSquared(r.position,E),config.background.LIGHT.minDistance,config.background.LIGHT.maxDistance),l=config.background.LIGHT.gravity*r.mass/c;FSS.Vector3.subtractVectors(r.force,E,r.position),FSS.Vector3.normalise(r.force),FSS.Vector3.multiplyScalar(r.force,l),FSS.Vector3.set(r.acceleration),FSS.Vector3.add(r.acceleration,r.force),FSS.Vector3.add(r.velocity,r.acceleration),FSS.Vector3.multiplyScalar(r.velocity,config.background.LIGHT.dampening),FSS.Vector3.limit(r.velocity,config.background.LIGHT.minLimit,config.background.LIGHT.maxLimit),FSS.Vector3.add(r.position,r.velocity)}for(o=y.vertices.length-1;o>=0;o--)a=y.vertices[o],t=Math.sin(a.time+a.step[0]*p*config.background.MESH.speed),e=Math.cos(a.time+a.step[1]*p*config.background.MESH.speed),i=Math.sin(a.time+a.step[2]*p*config.background.MESH.speed),FSS.Vector3.set(a.position,config.background.MESH.xRange*y.segmentWidth*t,config.background.MESH.yRange*y.sliceHeight*e,config.background.MESH.zRange*s*i-s),FSS.Vector3.add(a.position,a.anchor);y.dirty=!0}function l(){if(S.render(b),config.background.LIGHT.draw){var t,e,i,n;for(t=b.lights.length-1;t>=0;t--)switch(n=b.lights[t],e=n.position[0],i=n.position[1],config.background.RENDER.renderer){case CANVAS:S.context.lineWidth=.5,S.context.beginPath(),S.context.arc(e,i,10,0,Math.PIM2),S.context.strokeStyle=n.ambientHex,S.context.stroke(),S.context.beginPath(),S.context.arc(e,i,4,0,Math.PIM2),S.context.fillStyle=n.diffuseHex,S.context.fill();break;case SVG:e+=S.halfWidth,i=S.halfHeight-i,n.core.setAttributeNS(null,"fill",n.diffuseHex),n.core.setAttributeNS(null,"cx",e),n.core.setAttributeNS(null,"cy",i),S.element.appendChild(n.core),n.ring.setAttributeNS(null,"stroke",n.ambientHex),n.ring.setAttributeNS(null,"cx",e),n.ring.setAttributeNS(null,"cy",i),S.element.appendChild(n.ring)}}}function h(){window.addEventListener("resize",f),g.addEventListener("click",u),g.addEventListener("mousemove",d)}function u(t){config.background.LIGHT.followMouseClicks&&(FSS.Vector3.set(E,t.x,S.height-t.y),FSS.Vector3.subtract(E,L),config.background.LIGHT.autopilot=!config.background.LIGHT.autopilot,$.updateDisplay())}function d(t){FSS.Vector3.set(E,t.x,S.height-t.y),FSS.Vector3.subtract(E,L)}function f(t){a(g.offsetWidth,g.offsetHeight),l()}var g=document.getElementById("background-container"),m=document.getElementById("background-output");if(config.background.enabled){initPlugin(),config.background.LIGHT.bounds=FSS.Vector3.create(),config.background.LIGHT.step=FSS.Vector3.create(Math.randomInRange(.2,1),Math.randomInRange(.2,1),Math.randomInRange(.2,1));var p,S,b,v,y,w,F,k,x,$,C=Date.now(),L=FSS.Vector3.create(),E=FSS.Vector3.create();t()}}!function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=i.length,r=window.console=window.console||{};n--;)t=i[n],r[t]||(r[t]=e)}(),$(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),$("[data-method]").append(function(){return"\n<form action='"+$(this).attr("href")+"' method='POST' name='delete_item' style='display:none'>\n   <input type='hidden' name='_method' value='"+$(this).attr("data-method")+"'>\n   <input type='hidden' name='_token' value='"+$('meta[name="_token"]').attr("content")+"'>\n</form>\n"}).removeAttr("href").attr("style","cursor:pointer;").attr("onclick",'$(this).find("form").submit();'),$("form[name=delete_item]").submit(function(){return confirm("Are you sure you want to delete this item?")}),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),$("body").on("click",function(t){$('[data-toggle="popover"]').each(function(){$(this).is(t.target)||0!==$(this).has(t.target).length||0!==$(".popover").has(t.target).length||$(this).popover("hide")})})}),$(function(){}),function(t,e,i){t.fn.backstretch=function(n,r){return(n===i||0===n.length)&&t.error("No images were supplied for Backstretch"),0===t(e).scrollTop()&&e.scrollTo(0,0),this.each(function(){var e=t(this),i=e.data("backstretch");if(i){if("string"==typeof n&&"function"==typeof i[n])return void i[n](r);r=t.extend(i.options,r),i.destroy(!0)}i=new o(this,n,r),e.data("backstretch",i)})},t.backstretch=function(e,i){return t("body").backstretch(e,i).data("backstretch")},t.expr[":"].backstretch=function(e){return t(e).data("backstretch")!==i},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var n={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},r={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},o=function(i,r,o){this.options=t.extend({},t.fn.backstretch.defaults,o||{}),this.images=t.isArray(r)?r:[r],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=t(i),this.$root=this.isBody?t(a?e:document):this.$container,i=this.$container.children(".backstretch").first(),this.$wrap=i.length?i:t('<div class="backstretch"></div>').css(n).appendTo(this.$container),this.isBody||(i=this.$container.css("position"),r=this.$container.css("zIndex"),this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===r?0:r,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&a?"fixed":"absolute"}),this.index=0,this.show(this.index),t(e).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===e.pageYOffset&&(e.scrollTo(0,1),this.resize())},this))};o.prototype={resize:function(){try{var t,i={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),r=n,o=this.isBody?e.innerHeight?e.innerHeight:this.$root.height():this.$root.innerHeight(),a=r/this.$img.data("ratio");a>=o?(t=(a-o)/2,this.options.centeredY&&(i.top="-"+t+"px")):(a=o,r=a*this.$img.data("ratio"),t=(r-n)/2,this.options.centeredX&&(i.left="-"+t+"px")),this.$wrap.css({width:n,height:o}).find("img:not(.deleteable)").css({width:r,height:a}).css(i)}catch(s){}return this},show:function(e){if(!(Math.abs(e)>this.images.length-1)){var i=this,n=i.$wrap.find("img").addClass("deleteable"),o={relatedTarget:i.$container[0]};return i.$container.trigger(t.Event("backstretch.before",o),[i,e]),this.index=e,clearInterval(i.interval),i.$img=t("<img />").css(r).bind("load",function(r){var a=this.width||t(r.target).width();r=this.height||t(r.target).height(),t(this).data("ratio",a/r),t(this).fadeIn(i.options.speed||i.options.fade,function(){n.remove(),i.paused||i.cycle(),t(["after","show"]).each(function(){i.$container.trigger(t.Event("backstretch."+this,o),[i,e])})}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[e]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){t(e).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var a,s=navigator.userAgent,c=navigator.platform,l=s.match(/AppleWebKit\/([0-9]+)/),l=!!l&&l[1],h=s.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],u=s.match(/Opera Mobi\/([0-9]+)/),d=!!u&&u[1],f=s.match(/MSIE ([0-9]+)/),f=!!f&&f[1];a=!((-1<c.indexOf("iPhone")||-1<c.indexOf("iPad")||-1<c.indexOf("iPod"))&&l&&534>l||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||u&&7458>d||-1<s.indexOf("Android")&&l&&533>l||h&&6>h||"palmGetResource"in e&&l&&534>l||-1<s.indexOf("MeeGo")&&-1<s.indexOf("NokiaBrowser/8.5.0")||f&&6>=f)}(jQuery,window),$(function(){"use strict";$(".js-fullheight-body").backstretch(["../images/backgrounds/fullscreen.jpg"]),$(".js-landing-hero").backstretch(["../images/backgrounds/landing-hero.jpg"]),$(".js-thankyou-page").backstretch(["../images/backgrounds/landing-hero.jpg"]),
$("#welcome_secondary_text").backstretch(["../images/backgrounds/welcome.jpg"]),$(".js-about-hero").backstretch(["../images/about/ryersonslc.jpg"]),$(".welcome-division-all-img").backstretch(["../images/backgrounds/divisions/all.jpg"]),$(".welcome-division-health-img").backstretch(["../images/backgrounds/divisions/health.jpg"]),$(".welcome-division-science-img").backstretch(["../images/backgrounds/divisions/science.jpg"]),$(".welcome-division-response-img").backstretch(["../images/backgrounds/divisions/response.jpg"]),$(".welcome-division-security-img").backstretch(["../images/backgrounds/divisions/security.jpg"]),$(".welcome-division-continuity-img").backstretch(["../images/backgrounds/divisions/continuity.jpg"]),$(".welcome-division-humanitarian-img").backstretch(["../images/backgrounds/divisions/humanitarian.jpg"])}),$(document).ready(function(){$(".map").maphilight({fade:!0})});var countries=["canada","united_states","australia"],currentCountry,counter=0;$("select#country").change(function(){if(null!==$("select#country").val()){var t=$("select#country").val(),e=t.toLowerCase();e=e.replace(/ /g,"_"),currentCountry=e,$("tr").addClass("out"),$("tr").removeClass("in"),$("tr."+e).addClass("in"),$("tr."+e).removeClass("out"),fillRegions(e);var i="<option value='' disabled selected>Select One</option>; "+fillRegions(e);document.getElementById("region").innerHTML=i,document.getElementById("regionFormGroup").style.display="",$(".mapContainer").hide(),"new_zealand"==e?document.getElementById("mapListing").style.display="":"canada"==e?document.getElementById("canada_map").style.marginTop="-150px":"australia"==e&&(document.getElementById("australia_map").style.marginTop="-15px"),$("#"+e+"_map").show(),document.getElementById(e+"_map").style.visibility="",document.getElementById(e+"_map").style.height="",$("#backButton").attr("onclick","window.location.reload()"),document.getElementById("backButton").style.display="",document.getElementById("divisionFormGroup").style.display="",document.getElementById("countryFormGroup").style.display="none"}}),$("select#division").change(function(){if(null!=$("select#division").val()){var t,e=$("select#division").val();$("td.division_tags").each(function(){t=this.innerHTML,console.log(t),-1==t.indexOf(e)&&($(this).parent().addClass("out"),$(this).parent().removeClass("in"))}),$(".mapContainer").hide(),document.getElementById("mapListing").style.display="",$("#backButton").prop("onclick","firstFilterF('"+currentCountry+"')")}}),$("select#keyword").change(function(){if(null!=$("select#keyword").val()){var t=$("select#keyword").val();t=t.toLowerCase(),alert(t);var e;$("td.keyword_tags").each(function(){e=$(this).html(),-1==e.indexOf(t)&&($(this).parent().removeClass("in"),$(this).parent().addClass("out"))}),$(".mapContainer").hide(),document.getElementById("mapListing").style.display="",$("#backButton").prop("onclick","firstFilterF('"+currentCountry+"')")}}),$("select#region").change(function(){if(null!==$("select#region").val()){var t=$("select#region").val(),e=t.toLowerCase();e=e.replace(/ -/g,"_"),$("tr").addClass("out"),$("tr").removeClass("in"),$("tr."+e).addClass("in"),$("tr."+e).removeClass("out"),$(".mapContainer").hide(),document.getElementById("mapListing").style.display="",$("#backButton").attr("onclick","firstFilterF('"+currentCountry+"')")}}),function(t){var e,n,r,o,a,s,c,l,h,u,d;if(n=!!document.createElement("canvas").getContext,e=function(){var t=document.createElement("div");t.innerHTML='<v:shape id="vml_flag1" adj="1" />';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e?"object"==typeof e.adj:!0}(),!n&&!e)return void(t.fn.maphilight=function(){return this});if(n){l=function(t){return Math.max(0,Math.min(parseInt(t,16),255))},h=function(t,e){return"rgba("+l(t.substr(0,2))+","+l(t.substr(2,2))+","+l(t.substr(4,2))+","+e+")"},r=function(e){var i=t('<canvas style="width:'+t(e).width()+"px;height:"+t(e).height()+'px;"></canvas>').get(0);return i.getContext("2d").clearRect(0,0,t(e).width(),t(e).height()),i};var f=function(t,e,n,r,o){if(r=r||0,o=o||0,t.beginPath(),"rect"==e)t.rect(n[0]+r,n[1]+o,n[2]-n[0],n[3]-n[1]);else if("poly"==e)for(t.moveTo(n[0]+r,n[1]+o),i=2;i<n.length;i+=2)t.lineTo(n[i]+r,n[i+1]+o);else"circ"==e&&t.arc(n[0]+r,n[1]+o,n[2],0,2*Math.PI,!1);t.closePath()};o=function(e,i,n,r,o){var a=e.getContext("2d");if(r.shadow){a.save(),"inside"==r.shadowPosition&&(f(a,i,n),a.clip());var s=100*e.width,c=100*e.height;f(a,i,n,s,c),a.shadowOffsetX=r.shadowX-s,a.shadowOffsetY=r.shadowY-c,a.shadowBlur=r.shadowRadius,a.shadowColor=h(r.shadowColor,r.shadowOpacity);var l=r.shadowFrom;l||(l="outside"==r.shadowPosition?"fill":"stroke"),"stroke"==l?(a.strokeStyle="rgba(0,0,0,1)",a.stroke()):"fill"==l&&(a.fillStyle="rgba(0,0,0,1)",a.fill()),a.restore(),"outside"==r.shadowPosition&&(a.save(),f(a,i,n),a.globalCompositeOperation="destination-out",a.fillStyle="rgba(0,0,0,1);",a.fill(),a.restore())}a.save(),f(a,i,n),r.fill&&(a.fillStyle=h(r.fillColor,r.fillOpacity),a.fill()),r.stroke&&(a.strokeStyle=h(r.strokeColor,r.strokeOpacity),a.lineWidth=r.strokeWidth,a.stroke()),a.restore(),r.fade&&t(e).css("opacity",0).animate({opacity:1},100)},a=function(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}}else r=function(e){return t('<var style="zoom:1;overflow:hidden;display:block;width:'+e.width+"px;height:"+e.height+'px;"></var>').get(0)},o=function(e,i,n,r,o){var a,s,c,l;for(var h in n)n[h]=parseInt(n[h],10);a='<v:fill color="#'+r.fillColor+'" opacity="'+(r.fill?r.fillOpacity:0)+'" />',s=r.stroke?'strokeweight="'+r.strokeWidth+'" stroked="t" strokecolor="#'+r.strokeColor+'"':'stroked="f"',c='<v:stroke opacity="'+r.strokeOpacity+'"/>',"rect"==i?l=t('<v:rect name="'+o+'" filled="t" '+s+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+n[0]+"px;top:"+n[1]+"px;width:"+(n[2]-n[0])+"px;height:"+(n[3]-n[1])+'px;"></v:rect>'):"poly"==i?l=t('<v:shape name="'+o+'" filled="t" '+s+' coordorigin="0,0" coordsize="'+e.width+","+e.height+'" path="m '+n[0]+","+n[1]+" l "+n.join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+e.width+"px;height:"+e.height+'px;"></v:shape>'):"circ"==i&&(l=t('<v:oval name="'+o+'" filled="t" '+s+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(n[0]-n[2])+"px;top:"+(n[1]-n[2])+"px;width:"+2*n[2]+"px;height:"+2*n[2]+'px;"></v:oval>')),l.get(0).innerHTML=a+c,t(e).append(l)},a=function(e){var i=t("<div>"+e.innerHTML+"</div>");i.children("[name=highlighted]").remove(),e.innerHTML=i.html()};s=function(t){var e,i=t.getAttribute("coords").split(",");for(e=0;e<i.length;e++)i[e]=parseFloat(i[e]);return[t.getAttribute("shape").toLowerCase().substr(0,4),i]},d=function(e,i){var n=t(e);return t.extend({},i,t.metadata?n.metadata():!1,n.data("maphilight"))},u=function(t){return t.complete?"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth?!1:!0:!1},c={position:"absolute",left:0,top:0,padding:0,border:0};var g=!1;t.fn.maphilight=function(i){return i=t.extend({},t.fn.maphilight.defaults,i),n||g||(t(window).ready(function(){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var e=document.createStyleSheet(),i=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"];t.each(i,function(){e.addRule("v\\:"+this,"behavior: url(#default#VML); antialias:true")})}),g=!0),this.each(function(){var l,h,f,g,m,p,S;if(l=t(this),!u(this))return window.setTimeout(function(){l.maphilight(i)},200);if(f=t.extend({},i,t.metadata?l.metadata():!1,l.data("maphilight")),S=l.get(0).getAttribute("usemap"),S&&(g=t('map[name="'+S.substr(1)+'"]'),l.is('img,input[type="image"]')&&S&&g.size()>0)){if(l.hasClass("maphilighted")){var b=l.parent();l.insertBefore(b),b.remove(),t(g).unbind(".maphilight")}h=t("<div></div>").css({display:"block",backgroundImage:'url("'+this.src+'")',backgroundSize:"contain",position:"relative",padding:0,width:this.width,height:this.height}),f.wrapClass&&(f.wrapClass===!0?h.addClass(t(this).attr("class")):h.addClass(f.wrapClass)),l.before(h).css("opacity",0).css(c).remove(),e&&l.css("filter","Alpha(opacity=0)"),h.append(l),m=r(this),t(m).css(c),m.height=this.height,m.width=this.width,t(g).bind("alwaysOn.maphilight",function(){p&&a(p),n||t(m).empty(),t(g).find("area[coords]").each(function(){var e,i;i=d(this,f),i.alwaysOn&&(!p&&n&&(p=r(l[0]),t(p).css(c),p.width=l[0].width,p.height=l[0].height,l.before(p)),i.fade=i.alwaysOnFade,e=s(this),n?o(p,e[0],e[1],i,""):o(m,e[0],e[1],i,""))})}).trigger("alwaysOn.maphilight").bind("mouseover.maphilight, focus.maphilight",function(e){var i,r,a=e.target;if(r=d(a,f),!r.neverOn&&!r.alwaysOn){if(i=s(a),o(m,i[0],i[1],r,"highlighted"),r.groupBy){var c;c=/^[a-zA-Z][\-a-zA-Z]+$/.test(r.groupBy)?g.find("area["+r.groupBy+'="'+t(a).attr(r.groupBy)+'"]'):g.find(r.groupBy);var l=a;c.each(function(){if(this!=l){var t=d(this,f);if(!t.neverOn&&!t.alwaysOn){var e=s(this);o(m,e[0],e[1],t,"highlighted")}}})}n||t(m).append("<v:rect></v:rect>")}}).bind("mouseout.maphilight, blur.maphilight",function(t){a(m)}),l.before(m),l.addClass("maphilighted")}})},t.fn.maphilight.defaults={fill:!0,fillColor:"000000",fillOpacity:.2,stroke:!0,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,fade:!0,alwaysOn:!1,neverOn:!1,groupBy:!1,wrapClass:!0,shadow:!1,shadowX:0,shadowY:0,shadowRadius:6,shadowColor:"000000",shadowOpacity:.8,shadowPosition:"outside",shadowFrom:!1}}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){if(t instanceof Date)return t;if(String(t).match(a))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"http://demo.shnayder.pro/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}function i(t){return function(e){var i=e.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(i)for(var r=0,o=i.length;o>r;++r){var a=i[r].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=new RegExp(a[0]),l=a[1]||"",h=a[3]||"",u=null;a=a[2],s.hasOwnProperty(a)&&(u=s[a],u=Number(t[u])),null!==u&&("!"===l&&(u=n(h,u)),""===l&&10>u&&(u="0"+u.toString()),e=e.replace(c,u.toString()))}return e=e.replace(/%%/,"%")}}function n(t,e){var i="s",n="";return t&&(t=t.replace(/(:|;|\s)/gi,"").split(/\,/),1===t.length?i=t[0]:(n=t[0],i=t[1])),1===Math.abs(e)?n:i}var r=100,o=[],a=[];a.push(/^[0-9]*$/.source),a.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),a=new RegExp(a.join("|"));var s={Y:"years",m:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},c=function(e,i,n){this.el=e,this.$el=t(e),this.interval=null,this.offset={},this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),n&&(this.$el.on("update.countdown",n),this.$el.on("stoped.countdown",n),this.$el.on("finish.countdown",n)),this.setFinalDate(i),this.start()};t.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},r)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},pause:function(){this.stop.call(this)},resume:function(){this.start.call(this)},remove:function(){this.stop(),o[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(t){this.finalDate=e(t)},update:function(){return 0===this.$el.closest("html").length?void this.remove():(this.totalSecsLeft=this.finalDate.getTime()-(new Date).getTime(),this.totalSecsLeft=Math.ceil(this.totalSecsLeft/1e3),this.totalSecsLeft=this.totalSecsLeft<0?0:this.totalSecsLeft,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30),years:Math.floor(this.totalSecsLeft/60/60/24/365)},void(0===this.totalSecsLeft?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")))},dispatchEvent:function(e){var n=t.Event(e+".countdown");n.finalDate=this.finalDate,n.offset=t.extend({},this.offset),n.strftime=i(this.offset),this.$el.trigger(n)}}),t.fn.countdown=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){var i=t(this).data("countdown-instance");if(void 0!==i){var n=o[i],r=e[0];c.prototype.hasOwnProperty(r)?n[r].apply(n,e.slice(1)):null===String(r).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(n.setFinalDate.call(n,r),n.start()):t.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,r))}else new c(this,e[0],e[1])})}}),function(t){"use strict";function e(t,e,i){return t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):void 0}function i(t,e){var i,n;for(i=0,n=t.length;n>i;i++)if(t[i]===e)return!0;return!1}function n(t,e){var i;t.createTextRange?(i=t.createTextRange(),i.move("character",e),i.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}function r(t,e){try{return t.type=e,!0}catch(i){return!1}}t.Placeholders={Utils:{addEventListener:e,inArray:i,moveCaret:n,changeType:r}}}(this),function(t){"use strict";function e(){}function i(){try{return document.activeElement}catch(t){}}function n(t,e){var i,n,r=!!e&&t.value!==e,o=t.value===t.getAttribute(V);return(r||o)&&"true"===t.getAttribute(B)?(t.removeAttribute(B),t.value=t.value.replace(t.getAttribute(V),""),t.className=t.className.replace(R,""),n=t.getAttribute(_),parseInt(n,10)>=0&&(t.setAttribute("maxLength",n),t.removeAttribute(_)),i=t.getAttribute(H),i&&(t.type=i),!0):!1}function r(t){var e,i,n=t.getAttribute(V);return""===t.value&&n?(t.setAttribute(B,"true"),t.value=n,t.className+=" "+I,i=t.getAttribute(_),i||(t.setAttribute(_,t.maxLength),t.removeAttribute("maxLength")),e=t.getAttribute(H),e?t.type="text":"password"===t.type&&W.changeType(t,"text")&&t.setAttribute(H,"password"),!0):!1}function o(t,e){var i,n,r,o,a,s,c;if(t&&t.getAttribute(V))e(t);else for(r=t?t.getElementsByTagName("input"):m,o=t?t.getElementsByTagName("textarea"):p,i=r?r.length:0,n=o?o.length:0,c=0,s=i+n;s>c;c++)a=i>c?r[c]:o[c-i],e(a)}function a(t){o(t,n)}function s(t){o(t,r)}function c(t){return function(){S&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(B)?W.moveCaret(t,0):n(t)}}function l(t){return function(){r(t)}}function h(t){return function(e){return v=t.value,"true"===t.getAttribute(B)&&v===t.getAttribute(V)&&W.inArray(A,e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}}function u(t){return function(){n(t,v),""===t.value&&(t.blur(),W.moveCaret(t,0))}}function d(t){return function(){t===i()&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(B)&&W.moveCaret(t,0)}}function f(t){return function(){a(t)}}function g(t){t.form&&(x=t.form,"string"==typeof x&&(x=document.getElementById(x)),x.getAttribute(G)||(W.addEventListener(x,"submit",f(x)),x.setAttribute(G,"true"))),W.addEventListener(t,"focus",c(t)),W.addEventListener(t,"blur",l(t)),S&&(W.addEventListener(t,"keydown",h(t)),W.addEventListener(t,"keyup",u(t)),W.addEventListener(t,"click",d(t))),t.setAttribute(M,"true"),t.setAttribute(V,F),(S||t!==i())&&r(t)}var m,p,S,b,v,y,w,F,k,x,$,C,L,E=["text","search","url","tel","email","password","number","textarea"],A=[27,33,34,35,36,37,38,39,40,8,46],T="#ccc",I="placeholdersjs",R=RegExp("(?:^|\\s)"+I+"(?!\\S)"),V="data-placeholder-value",B="data-placeholder-active",H="data-placeholder-type",G="data-placeholder-submit",M="data-placeholder-bound",D="data-placeholder-focus",O="data-placeholder-live",_="data-placeholder-maxlength",N=document.createElement("input"),P=document.getElementsByTagName("head")[0],z=document.documentElement,j=t.Placeholders,W=j.Utils;if(j.nativeSupport=void 0!==N.placeholder,!j.nativeSupport){for(m=document.getElementsByTagName("input"),p=document.getElementsByTagName("textarea"),S="false"===z.getAttribute(D),b="false"!==z.getAttribute(O),y=document.createElement("style"),y.type="text/css",w=document.createTextNode("."+I+" { color:"+T+"; }"),y.styleSheet?y.styleSheet.cssText=w.nodeValue:y.appendChild(w),P.insertBefore(y,P.firstChild),L=0,C=m.length+p.length;C>L;L++)$=m.length>L?m[L]:p[L-m.length],F=$.attributes.placeholder,F&&(F=F.nodeValue,F&&W.inArray(E,$.type)&&g($));k=setInterval(function(){for(L=0,C=m.length+p.length;C>L;L++)$=m.length>L?m[L]:p[L-m.length],F=$.attributes.placeholder,F?(F=F.nodeValue,F&&W.inArray(E,$.type)&&($.getAttribute(M)||g($),(F!==$.getAttribute(V)||"password"===$.type&&!$.getAttribute(H))&&("password"===$.type&&!$.getAttribute(H)&&W.changeType($,"text")&&$.setAttribute(H,"password"),$.value===$.getAttribute(V)&&($.value=F),$.setAttribute(V,F)))):$.getAttribute(B)&&(n($),$.removeAttribute(V));b||clearInterval(k)},100)}W.addEventListener(t,"beforeunload",function(){j.disable()}),j.disable=j.nativeSupport?e:a,j.enable=j.nativeSupport?e:s}(this),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),o=n.data("bs.validator");(o||"destroy"!=e)&&(o||n.data("bs.validator",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(e,n){this.$element=t(e),this.options=n,n.errors=t.extend({},i.DEFAULTS.errors,n.errors);for(var r in n.custom)if(!n.errors[r])throw new Error("Missing default error message for custom validator: "+r);t.extend(i.VALIDATORS,n.custom),this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",t.proxy(this.validateInput,this)),this.$element.on("submit.bs.validator",t.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var e=t(this),i=e.data("match");t(i).on("input.bs.validator",function(t){e.val()&&e.trigger("input.bs.validator")})})};i.INPUT_SELECTOR=':input:not([type="submit"], button):enabled:visible',i.DEFAULTS={delay:500,html:!1,disable:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-remove"}},i.VALIDATORS={"native":function(t){var e=t[0];return e.checkValidity?e.checkValidity():!0},match:function(e){var i=e.data("match");return!e.val()||e.val()===t(i).val()},minlength:function(t){var e=t.data("minlength");return!t.val()||t.val().length>=e}},i.prototype.validateInput=function(e){var i=t(e.target),n=i.data("bs.validator.errors");if(i.is('[type="radio"]')&&(i=this.$element.find('input[name="'+i.attr("name")+'"]')),this.$element.trigger(e=t.Event("validate.bs.validator",{relatedTarget:i[0]})),!e.isDefaultPrevented()){var r=this;this.runValidators(i).done(function(o){i.data("bs.validator.errors",o),o.length?r.showErrors(i):r.clearErrors(i),n&&o.toString()===n.toString()||(e=o.length?t.Event("invalid.bs.validator",{relatedTarget:i[0],detail:o}):t.Event("valid.bs.validator",{relatedTarget:i[0],detail:n}),r.$element.trigger(e)),r.toggleSubmit(),r.$element.trigger(t.Event("validated.bs.validator",{relatedTarget:i[0]}))})}},i.prototype.runValidators=function(e){function n(t){return e.data(t+"-error")||e.data("error")||"native"==t&&e[0].validationMessage||a.errors[t]}var r=[],o=t.Deferred(),a=this.options;return e.data("bs.validator.deferred")&&e.data("bs.validator.deferred").reject(),e.data("bs.validator.deferred",o),t.each(i.VALIDATORS,t.proxy(function(t,i){if((e.data(t)||"native"==t)&&!i.call(this,e)){var o=n(t);!~r.indexOf(o)&&r.push(o)}},this)),!r.length&&e.val()&&e.data("remote")?this.defer(e,function(){var i={};i[e.attr("name")]=e.val(),t.get(e.data("remote"),i).fail(function(t,e,i){r.push(n("remote")||i)}).always(function(){o.resolve(r)})}):o.resolve(r),o.promise()},i.prototype.validate=function(){var t=this.options.delay;return this.options.delay=0,this.$element.find(i.INPUT_SELECTOR).trigger("input.bs.validator"),this.options.delay=t,this},i.prototype.showErrors=function(e){var i=this.options.html?"html":"text";this.defer(e,function(){var n=e.closest(".form-group"),r=n.find(".help-block.with-errors"),o=n.find(".form-control-feedback"),a=e.data("bs.validator.errors");a.length&&(a=t("<ul/>").addClass("list-unstyled").append(t.map(a,function(e){return t("<li/>")[i](e)})),void 0===r.data("bs.validator.originalContent")&&r.data("bs.validator.originalContent",r.html()),r.empty().append(a),n.addClass("has-error"),o.length&&o.removeClass(this.options.feedback.success)&&o.addClass(this.options.feedback.error)&&n.removeClass("has-success"))})},i.prototype.clearErrors=function(t){var e=t.closest(".form-group"),i=e.find(".help-block.with-errors"),n=e.find(".form-control-feedback");i.html(i.data("bs.validator.originalContent")),e.removeClass("has-error"),n.length&&n.removeClass(this.options.feedback.error)&&n.addClass(this.options.feedback.success)&&e.addClass("has-success")},i.prototype.hasErrors=function(){function e(){return!!(t(this).data("bs.validator.errors")||[]).length}return!!this.$element.find(i.INPUT_SELECTOR).filter(e).length},i.prototype.isIncomplete=function(){function e(){return"checkbox"===this.type?!this.checked:"radio"===this.type?!t('[name="'+this.name+'"]:checked').length:""===t.trim(this.value)}return!!this.$element.find(i.INPUT_SELECTOR).filter("[required]").filter(e).length},i.prototype.onSubmit=function(t){this.validate(),(this.isIncomplete()||this.hasErrors())&&t.preventDefault()},i.prototype.toggleSubmit=function(){if(this.options.disable){var e=t('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]'));e.toggleClass("disabled",this.isIncomplete()||this.hasErrors())}},i.prototype.defer=function(e,i){return i=t.proxy(i,this),this.options.delay?(window.clearTimeout(e.data("bs.validator.timeout")),void e.data("bs.validator.timeout",window.setTimeout(i,this.options.delay))):i()},i.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$element.find(i.INPUT_SELECTOR).off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var e=t(this),i=e.data("bs.validator.timeout");window.clearTimeout(i)&&e.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var e=t(this),i=e.data("bs.validator.originalContent");e.removeData("bs.validator.originalContent").html(i)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error").removeClass("has-error"),this};var n=t.fn.validator;t.fn.validator=e,t.fn.validator.Constructor=i,t.fn.validator.noConflict=function(){return t.fn.validator=n,this},t(window).on("load",function(){t('form[data-toggle="validator"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery);var config={countdown:{year:2015,month:11,day:10,hour:0,minute:0,second:0},subscription_form_tooltips:{success:"You have been subscribed!",already_subscribed:"You are already subscribed",empty_email:"Please, Enter your email",invalid_email:"Email is invalid. Enter valid email address",default_error:"Error! Contact administration"}};$(function(){function t(t,e){var i;s||(s=$('<p class="subscription-form-tooltip"></p>').appendTo(l)),"success"==t?s.removeClass("error").addClass("success"):s.removeClass("success").addClass("error"),s.text(e).fadeTo(0,0),i=s.outerWidth()/2,s.css("margin-left",-i).animate({top:"100%"},200).dequeue().fadeTo(200,1)}function e(){s&&s.animate({top:"120%"},200).dequeue().fadeTo(100,0)}function i(i,n){h.removeClass("success error"),"normal"==i?e():(t(i,n),h.addClass(i))}var n=$(document.body),r=($(window),document.createElement("canvas"));backgroundEnabled=r.getContext&&r.getContext("2d")&&"none"!=$("#background-container").css("display"),backgroundEnabled&&(config.background={enabled:!0,RENDER:{renderer:"canvas"},MESH:{width:1.2,height:1.2,depth:10,segments:16,slices:8,xRange:.8,yRange:.1,zRange:1,ambient:"#555555",diffuse:"#FFFFFF",speed:5e-4},LIGHT:{count:2,xyScalar:1,zOffset:150,ambient:"#880066",diffuse:"#D77600",speed:.001,gravity:1200,dampening:.15,minLimit:8,maxLimit:null,minDistance:20,maxDistance:400,autopilot:!0,draw:!1}},n.hasClass("theme-ice")?(config.background.LIGHT.ambient="#1165A4",config.background.LIGHT.diffuse="#514311"):n.hasClass("theme-nature")?(config.background.LIGHT.ambient="#00935B",config.background.LIGHT.diffuse="#02480A"):n.hasClass("theme-sea")?(config.background.LIGHT.ambient="#76E4CE",config.background.LIGHT.diffuse="#0E411F",config.background.LIGHT.zOffset=100):n.hasClass("theme-candy")?(config.background.LIGHT.ambient="#A42D71",config.background.LIGHT.diffuse="#4E2F1B"):n.hasClass("theme-peach")?(config.background.LIGHT.ambient="#FF7171",config.background.LIGHT.diffuse="#895321",config.background.LIGHT.zOffset=100):n.hasClass("theme-light")?(config.background.LIGHT.ambient="#DBAA95",config.background.LIGHT.diffuse="#4F460B"):n.hasClass("theme-darkness")&&(config.background.LIGHT.ambient="#3C3C3C",config.background.LIGHT.diffuse="#494949",config.background.LIGHT.zOffset=200),initBackground());var o=new Date(config.countdown.year,config.countdown.month-1,config.countdown.day,config.countdown.hour,config.countdown.minute,config.countdown.second),a={days:$("#countdown-days"),hours:$("#countdown-hours"),minutes:$("#countdown-minutes"),seconds:$("#countdown-seconds")};$("#countdown").countdown(o).on("update.countdown",function(t){a.days.text(t.offset.totalDays),a.hours.text(("0"+t.offset.hours).slice(-2)),a.minutes.text(("0"+t.offset.minutes).slice(-2)),a.seconds.text(("0"+t.offset.seconds).slice(-2))});var s,c=config.subscription_form_tooltips,l=$("#subscription-form"),h=$("#subscription-form-email");$("#subscription-form-submit");l.submit(function(t){t.preventDefault();var e=h.val();0==e.length?i("error",c.empty_email):$.post("subscribe.html",{email:e,ajax:1},function(t){if("success"==t.status)i("success",c.success);else switch(t.error){case"empty_email":case"invalid_email":case"already_subscribed":i("error",c[t.error]);break;default:i("error",c.default_error)}},"json")}),h.on("change focus click keydown",function(){h.val().length>0&&i("normal")})}),$(function(){var t=($("html"),$("#demo-panel")),e=$(".demo-panel-themes li");$("#demo-panel-activator").on("click",function(e){e.preventDefault(),t.toggleClass("active")}),e.on("click",function(){var t=$(this);e.filter(".active").removeClass("active"),t.toggleClass("active")})});
//# sourceMappingURL=frontend.js.map
