{"version":3,"sources":["plugins.js","main.js","jquery.countdown.js","placeholders.min.js","flat-surface-shader.js","main.config.js","shader.js","demo.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7MA;AACA;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"frontend.js","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\r\n(function() {\r\n    var method;\r\n    var noop = function () {};\r\n    var methods = [\r\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\r\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\r\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\r\n        'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\r\n    ];\r\n    var length = methods.length;\r\n    var console = (window.console = window.console || {});\r\n\r\n    while (length--) {\r\n        method = methods[length];\r\n\r\n        // Only stub undefined methods.\r\n        if (!console[method]) {\r\n            console[method] = noop;\r\n        }\r\n    }\r\n}());\r\n\r\n// Place any jQuery/helper plugins in here.\r\n$(function(){\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        }\r\n    });\r\n\r\n    /*\r\n     Allows you to add data-method=\"METHOD to links to automatically inject a form with the method on click\r\n     Example: <a href=\"{{route('customers.destroy', $customer->id)}}\" data-method=\"delete\" name=\"delete_item\">Delete</a>\r\n     Injects a form with that's fired on click of the link with a DELETE request.\r\n     Good because you don't have to dirty your HTML with delete forms everywhere.\r\n     */\r\n    $('[data-method]').append(function(){\r\n        return \"\\n\"+\r\n        \"<form action='\"+$(this).attr('href')+\"' method='POST' name='delete_item' style='display:none'>\\n\"+\r\n        \"   <input type='hidden' name='_method' value='\"+$(this).attr('data-method')+\"'>\\n\"+\r\n        \"   <input type='hidden' name='_token' value='\"+$('meta[name=\"_token\"]').attr('content')+\"'>\\n\"+\r\n        \"</form>\\n\"\r\n    })\r\n        .removeAttr('href')\r\n        .attr('style','cursor:pointer;')\r\n        .attr('onclick','$(this).find(\"form\").submit();');\r\n\r\n    /*\r\n     Generic are you sure dialog\r\n     */\r\n    $('form[name=delete_item]').submit(function(){\r\n        return confirm(\"Are you sure you want to delete this item?\");\r\n    });\r\n\r\n    /*\r\n     Bind all bootstrap tooltips\r\n     */\r\n    $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\r\n    $(\"[data-toggle=\\\"popover\\\"]\").popover();\r\n    //This closes the popover when its clicked away from\r\n    $('body').on('click', function (e) {\r\n        $('[data-toggle=\"popover\"]').each(function () {\r\n            if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {\r\n                $(this).popover('hide');\r\n            }\r\n        });\r\n    });\r\n});","$(function(){\r\n\r\n});","/*!\r\n * The Final Countdown for jQuery v2.0.3 (http://hilios.github.io/jQuery.countdown/)\r\n * Copyright (c) 2014 Edson Hilios\r\n * \r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\r\n * this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to\r\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\r\n * the Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\r\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\r\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n(function(factory) {\r\n    \"use strict\";\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define([ \"jquery\" ], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n})(function($) {\r\n    \"use strict\";\r\n    var PRECISION = 100;\r\n    var instances = [], matchers = [];\r\n    matchers.push(/^[0-9]*$/.source);\r\n    matchers.push(/([0-9]{1,2}\\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\r\n    matchers.push(/[0-9]{4}([\\/\\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source);\r\n    matchers = new RegExp(matchers.join(\"|\"));\r\n    function parseDateString(dateString) {\r\n        if (dateString instanceof Date) {\r\n            return dateString;\r\n        }\r\n        if (String(dateString).match(matchers)) {\r\n            if (String(dateString).match(/^[0-9]*$/)) {\r\n                dateString = Number(dateString);\r\n            }\r\n            if (String(dateString).match(/\\-/)) {\r\n                dateString = String(dateString).replace(/\\-/g, \"http://demo.shnayder.pro/\");\r\n            }\r\n            return new Date(dateString);\r\n        } else {\r\n            throw new Error(\"Couldn't cast `\" + dateString + \"` to a date object.\");\r\n        }\r\n    }\r\n    var DIRECTIVE_KEY_MAP = {\r\n        Y: \"years\",\r\n        m: \"months\",\r\n        w: \"weeks\",\r\n        d: \"days\",\r\n        D: \"totalDays\",\r\n        H: \"hours\",\r\n        M: \"minutes\",\r\n        S: \"seconds\"\r\n    };\r\n    function strftime(offsetObject) {\r\n        return function(format) {\r\n            var directives = format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);\r\n            if (directives) {\r\n                for (var i = 0, len = directives.length; i < len; ++i) {\r\n                    var directive = directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/), regexp = new RegExp(directive[0]), modifier = directive[1] || \"\", plural = directive[3] || \"\", value = null;\r\n                    directive = directive[2];\r\n                    if (DIRECTIVE_KEY_MAP.hasOwnProperty(directive)) {\r\n                        value = DIRECTIVE_KEY_MAP[directive];\r\n                        value = Number(offsetObject[value]);\r\n                    }\r\n                    if (value !== null) {\r\n                        if (modifier === \"!\") {\r\n                            value = pluralize(plural, value);\r\n                        }\r\n                        if (modifier === \"\") {\r\n                            if (value < 10) {\r\n                                value = \"0\" + value.toString();\r\n                            }\r\n                        }\r\n                        format = format.replace(regexp, value.toString());\r\n                    }\r\n                }\r\n            }\r\n            format = format.replace(/%%/, \"%\");\r\n            return format;\r\n        };\r\n    }\r\n    function pluralize(format, count) {\r\n        var plural = \"s\", singular = \"\";\r\n        if (format) {\r\n            format = format.replace(/(:|;|\\s)/gi, \"\").split(/\\,/);\r\n            if (format.length === 1) {\r\n                plural = format[0];\r\n            } else {\r\n                singular = format[0];\r\n                plural = format[1];\r\n            }\r\n        }\r\n        if (Math.abs(count) === 1) {\r\n            return singular;\r\n        } else {\r\n            return plural;\r\n        }\r\n    }\r\n    var Countdown = function(el, finalDate, callback) {\r\n        this.el = el;\r\n        this.$el = $(el);\r\n        this.interval = null;\r\n        this.offset = {};\r\n        this.instanceNumber = instances.length;\r\n        instances.push(this);\r\n        this.$el.data(\"countdown-instance\", this.instanceNumber);\r\n        if (callback) {\r\n            this.$el.on(\"update.countdown\", callback);\r\n            this.$el.on(\"stoped.countdown\", callback);\r\n            this.$el.on(\"finish.countdown\", callback);\r\n        }\r\n        this.setFinalDate(finalDate);\r\n        this.start();\r\n    };\r\n    $.extend(Countdown.prototype, {\r\n        start: function() {\r\n            if (this.interval !== null) {\r\n                clearInterval(this.interval);\r\n            }\r\n            var self = this;\r\n            this.update();\r\n            this.interval = setInterval(function() {\r\n                self.update.call(self);\r\n            }, PRECISION);\r\n        },\r\n        stop: function() {\r\n            clearInterval(this.interval);\r\n            this.interval = null;\r\n            this.dispatchEvent(\"stoped\");\r\n        },\r\n        pause: function() {\r\n            this.stop.call(this);\r\n        },\r\n        resume: function() {\r\n            this.start.call(this);\r\n        },\r\n        remove: function() {\r\n            this.stop();\r\n            instances[this.instanceNumber] = null;\r\n            delete this.$el.data().countdownInstance;\r\n        },\r\n        setFinalDate: function(value) {\r\n            this.finalDate = parseDateString(value);\r\n        },\r\n        update: function() {\r\n            if (this.$el.closest(\"html\").length === 0) {\r\n                this.remove();\r\n                return;\r\n            }\r\n            this.totalSecsLeft = this.finalDate.getTime() - new Date().getTime();\r\n            this.totalSecsLeft = Math.ceil(this.totalSecsLeft / 1e3);\r\n            this.totalSecsLeft = this.totalSecsLeft < 0 ? 0 : this.totalSecsLeft;\r\n            this.offset = {\r\n                seconds: this.totalSecsLeft % 60,\r\n                minutes: Math.floor(this.totalSecsLeft / 60) % 60,\r\n                hours: Math.floor(this.totalSecsLeft / 60 / 60) % 24,\r\n                days: Math.floor(this.totalSecsLeft / 60 / 60 / 24) % 7,\r\n                totalDays: Math.floor(this.totalSecsLeft / 60 / 60 / 24),\r\n                weeks: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 7),\r\n                months: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 30),\r\n                years: Math.floor(this.totalSecsLeft / 60 / 60 / 24 / 365)\r\n            };\r\n            if (this.totalSecsLeft === 0) {\r\n                this.stop();\r\n                this.dispatchEvent(\"finish\");\r\n            } else {\r\n                this.dispatchEvent(\"update\");\r\n            }\r\n        },\r\n        dispatchEvent: function(eventName) {\r\n            var event = $.Event(eventName + \".countdown\");\r\n            event.finalDate = this.finalDate;\r\n            event.offset = $.extend({}, this.offset);\r\n            event.strftime = strftime(this.offset);\r\n            this.$el.trigger(event);\r\n        }\r\n    });\r\n    $.fn.countdown = function() {\r\n        var argumentsArray = Array.prototype.slice.call(arguments, 0);\r\n        return this.each(function() {\r\n            var instanceNumber = $(this).data(\"countdown-instance\");\r\n            if (instanceNumber !== undefined) {\r\n                var instance = instances[instanceNumber], method = argumentsArray[0];\r\n                if (Countdown.prototype.hasOwnProperty(method)) {\r\n                    instance[method].apply(instance, argumentsArray.slice(1));\r\n                } else if (String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i) === null) {\r\n                    instance.setFinalDate.call(instance, method);\r\n                    instance.start();\r\n                } else {\r\n                    $.error(\"Method %s does not exist on jQuery.countdown\".replace(/\\%s/gi, method));\r\n                }\r\n            } else {\r\n                new Countdown(this, argumentsArray[0], argumentsArray[1]);\r\n            }\r\n        });\r\n    };\r\n});","/* Placeholders.js v3.0.2 */\r\n(function(t){\"use strict\";function e(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent(\"on\"+e,r):void 0}function r(t,e){var r,n;for(r=0,n=t.length;n>r;r++)if(t[r]===e)return!0;return!1}function n(t,e){var r;t.createTextRange?(r=t.createTextRange(),r.move(\"character\",e),r.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}function a(t,e){try{return t.type=e,!0}catch(r){return!1}}t.Placeholders={Utils:{addEventListener:e,inArray:r,moveCaret:n,changeType:a}}})(this),function(t){\"use strict\";function e(){}function r(){try{return document.activeElement}catch(t){}}function n(t,e){var r,n,a=!!e&&t.value!==e,u=t.value===t.getAttribute(V);return(a||u)&&\"true\"===t.getAttribute(D)?(t.removeAttribute(D),t.value=t.value.replace(t.getAttribute(V),\"\"),t.className=t.className.replace(R,\"\"),n=t.getAttribute(F),parseInt(n,10)>=0&&(t.setAttribute(\"maxLength\",n),t.removeAttribute(F)),r=t.getAttribute(P),r&&(t.type=r),!0):!1}function a(t){var e,r,n=t.getAttribute(V);return\"\"===t.value&&n?(t.setAttribute(D,\"true\"),t.value=n,t.className+=\" \"+I,r=t.getAttribute(F),r||(t.setAttribute(F,t.maxLength),t.removeAttribute(\"maxLength\")),e=t.getAttribute(P),e?t.type=\"text\":\"password\"===t.type&&M.changeType(t,\"text\")&&t.setAttribute(P,\"password\"),!0):!1}function u(t,e){var r,n,a,u,i,l,o;if(t&&t.getAttribute(V))e(t);else for(a=t?t.getElementsByTagName(\"input\"):b,u=t?t.getElementsByTagName(\"textarea\"):f,r=a?a.length:0,n=u?u.length:0,o=0,l=r+n;l>o;o++)i=r>o?a[o]:u[o-r],e(i)}function i(t){u(t,n)}function l(t){u(t,a)}function o(t){return function(){m&&t.value===t.getAttribute(V)&&\"true\"===t.getAttribute(D)?M.moveCaret(t,0):n(t)}}function c(t){return function(){a(t)}}function s(t){return function(e){return A=t.value,\"true\"===t.getAttribute(D)&&A===t.getAttribute(V)&&M.inArray(C,e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}}function d(t){return function(){n(t,A),\"\"===t.value&&(t.blur(),M.moveCaret(t,0))}}function g(t){return function(){t===r()&&t.value===t.getAttribute(V)&&\"true\"===t.getAttribute(D)&&M.moveCaret(t,0)}}function v(t){return function(){i(t)}}function p(t){t.form&&(T=t.form,\"string\"==typeof T&&(T=document.getElementById(T)),T.getAttribute(U)||(M.addEventListener(T,\"submit\",v(T)),T.setAttribute(U,\"true\"))),M.addEventListener(t,\"focus\",o(t)),M.addEventListener(t,\"blur\",c(t)),m&&(M.addEventListener(t,\"keydown\",s(t)),M.addEventListener(t,\"keyup\",d(t)),M.addEventListener(t,\"click\",g(t))),t.setAttribute(j,\"true\"),t.setAttribute(V,x),(m||t!==r())&&a(t)}var b,f,m,h,A,y,E,x,L,T,N,S,w,B=[\"text\",\"search\",\"url\",\"tel\",\"email\",\"password\",\"number\",\"textarea\"],C=[27,33,34,35,36,37,38,39,40,8,46],k=\"#ccc\",I=\"placeholdersjs\",R=RegExp(\"(?:^|\\\\s)\"+I+\"(?!\\\\S)\"),V=\"data-placeholder-value\",D=\"data-placeholder-active\",P=\"data-placeholder-type\",U=\"data-placeholder-submit\",j=\"data-placeholder-bound\",q=\"data-placeholder-focus\",z=\"data-placeholder-live\",F=\"data-placeholder-maxlength\",G=document.createElement(\"input\"),H=document.getElementsByTagName(\"head\")[0],J=document.documentElement,K=t.Placeholders,M=K.Utils;if(K.nativeSupport=void 0!==G.placeholder,!K.nativeSupport){for(b=document.getElementsByTagName(\"input\"),f=document.getElementsByTagName(\"textarea\"),m=\"false\"===J.getAttribute(q),h=\"false\"!==J.getAttribute(z),y=document.createElement(\"style\"),y.type=\"text/css\",E=document.createTextNode(\".\"+I+\" { color:\"+k+\"; }\"),y.styleSheet?y.styleSheet.cssText=E.nodeValue:y.appendChild(E),H.insertBefore(y,H.firstChild),w=0,S=b.length+f.length;S>w;w++)N=b.length>w?b[w]:f[w-b.length],x=N.attributes.placeholder,x&&(x=x.nodeValue,x&&M.inArray(B,N.type)&&p(N));L=setInterval(function(){for(w=0,S=b.length+f.length;S>w;w++)N=b.length>w?b[w]:f[w-b.length],x=N.attributes.placeholder,x?(x=x.nodeValue,x&&M.inArray(B,N.type)&&(N.getAttribute(j)||p(N),(x!==N.getAttribute(V)||\"password\"===N.type&&!N.getAttribute(P))&&(\"password\"===N.type&&!N.getAttribute(P)&&M.changeType(N,\"text\")&&N.setAttribute(P,\"password\"),N.value===N.getAttribute(V)&&(N.value=x),N.setAttribute(V,x)))):N.getAttribute(D)&&(n(N),N.removeAttribute(V));h||clearInterval(L)},100)}M.addEventListener(t,\"beforeunload\",function(){K.disable()}),K.disable=K.nativeSupport?e:i,K.enable=K.nativeSupport?e:l}(this);","//============================================================\r\n//\r\n// Flat Surface Shader\r\n//\r\n// Copyright (C) 2013 Matthew Wagerfield\r\n//\r\n// Twitter: https://twitter.com/mwagerfield\r\n//\r\n// Permission is hereby granted, free of charge, to any\r\n// person obtaining a copy of this software and associated\r\n// documentation files (the \"Software\"), to deal in the\r\n// Software without restriction, including without limitation\r\n// the rights to use, copy, modify, merge, publish, distribute,\r\n// sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do\r\n// so, subject to the following conditions:\r\n//\r\n// The above copyright notice and this permission notice\r\n// shall be included in all copies or substantial portions\r\n// of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY\r\n// OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT\r\n// LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\r\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO\r\n// EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE\r\n// FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\r\n// AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\r\n// OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n//============================================================\r\n\r\nfunction initPlugin() {\r\n  FSS={FRONT:0,BACK:1,DOUBLE:2,SVGNS:\"http://www.w3.org/2000/svg\"},FSS.Array=\"function\"==typeof Float32Array?Float32Array:Array,FSS.Utils={isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},function(){for(var t=0,e=[\"ms\",\"moz\",\"webkit\",\"o\"],i=0;e.length>i&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[e[i]+\"CancelAnimationFrame\"]||window[e[i]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),s=window.setTimeout(function(){e(i+r)},r);return t=i+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Math.PIM2=2*Math.PI,Math.PID2=Math.PI/2,Math.randomInRange=function(t,e){return t+(e-t)*Math.random()},Math.clamp=function(t,e,i){return t=Math.max(t,e),t=Math.min(t,i)},FSS.Vector3={create:function(t,e,i){var r=new FSS.Array(3);return this.set(r,t,e,i),r},clone:function(t){var e=this.create();return this.copy(e,t),e},set:function(t,e,i,r){return t[0]=e||0,t[1]=i||0,t[2]=r||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],this},addVectors:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],this},addScalar:function(t,e){return t[0]+=e,t[1]+=e,t[2]+=e,this},subtract:function(t,e){return t[0]-=e[0],t[1]-=e[1],t[2]-=e[2],this},subtractVectors:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],this},subtractScalar:function(t,e){return t[0]-=e,t[1]-=e,t[2]-=e,this},multiply:function(t,e){return t[0]*=e[0],t[1]*=e[1],t[2]*=e[2],this},multiplyVectors:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,this},divide:function(t,e){return t[0]/=e[0],t[1]/=e[1],t[2]/=e[2],this},divideVectors:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],this},divideScalar:function(t,e){return 0!==e?(t[0]/=e,t[1]/=e,t[2]/=e):(t[0]=0,t[1]=0,t[2]=0),this},cross:function(t,e){var i=t[0],r=t[1],s=t[2];return t[0]=r*e[2]-s*e[1],t[1]=s*e[0]-i*e[2],t[2]=i*e[1]-r*e[0],this},crossVectors:function(t,e,i){return t[0]=e[1]*i[2]-e[2]*i[1],t[1]=e[2]*i[0]-e[0]*i[2],t[2]=e[0]*i[1]-e[1]*i[0],this},min:function(t,e){return e>t[0]&&(t[0]=e),e>t[1]&&(t[1]=e),e>t[2]&&(t[2]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),this},clamp:function(t,e,i){return this.min(t,e),this.max(t,i),this},limit:function(t,e,i){var r=this.length(t);return null!==e&&e>r?this.setLength(t,e):null!==i&&r>i&&this.setLength(t,i),this},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalise:function(t){return this.divideScalar(t,this.length(t))},negate:function(t){return this.multiplyScalar(t,-1)},distanceSquared:function(t,e){var i=t[0]-e[0],r=t[1]-e[1],s=t[2]-e[2];return i*i+r*r+s*s},distance:function(t,e){return Math.sqrt(this.distanceSquared(t,e))},lengthSquared:function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},length:function(t){return Math.sqrt(this.lengthSquared(t))},setLength:function(t,e){var i=this.length(t);return 0!==i&&e!==i&&this.multiplyScalar(t,e/i),this}},FSS.Vector4={create:function(t,e,i){var r=new FSS.Array(4);return this.set(r,t,e,i),r},set:function(t,e,i,r,s){return t[0]=e||0,t[1]=i||0,t[2]=r||0,t[3]=s||0,this},setX:function(t,e){return t[0]=e||0,this},setY:function(t,e){return t[1]=e||0,this},setZ:function(t,e){return t[2]=e||0,this},setW:function(t,e){return t[3]=e||0,this},add:function(t,e){return t[0]+=e[0],t[1]+=e[1],t[2]+=e[2],t[3]+=e[3],this},multiplyVectors:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],this},multiplyScalar:function(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t[3]*=e,this},min:function(t,e){return e>t[0]&&(t[0]=e),e>t[1]&&(t[1]=e),e>t[2]&&(t[2]=e),e>t[3]&&(t[3]=e),this},max:function(t,e){return t[0]>e&&(t[0]=e),t[1]>e&&(t[1]=e),t[2]>e&&(t[2]=e),t[3]>e&&(t[3]=e),this},clamp:function(t,e,i){return this.min(t,e),this.max(t,i),this}},FSS.Color=function(t,e){this.rgba=FSS.Vector4.create(),this.hex=t||\"#000000\",this.opacity=FSS.Utils.isNumber(e)?e:1,this.set(this.hex,this.opacity)},FSS.Color.prototype={set:function(t,e){t=t.replace(\"#\",\"\");var i=t.length/3;return this.rgba[0]=parseInt(t.substring(0*i,1*i),16)/255,this.rgba[1]=parseInt(t.substring(1*i,2*i),16)/255,this.rgba[2]=parseInt(t.substring(2*i,3*i),16)/255,this.rgba[3]=FSS.Utils.isNumber(e)?e:this.rgba[3],this},hexify:function(t){var e=Math.ceil(255*t).toString(16);return 1===e.length&&(e=\"0\"+e),e},format:function(){var t=this.hexify(this.rgba[0]),e=this.hexify(this.rgba[1]),i=this.hexify(this.rgba[2]);return this.hex=\"#\"+t+e+i,this.hex}},FSS.Object=function(){this.position=FSS.Vector3.create()},FSS.Object.prototype={setPosition:function(t,e,i){return FSS.Vector3.set(this.position,t,e,i),this}},FSS.Light=function(t,e){FSS.Object.call(this),this.ambient=new FSS.Color(t||\"#FFFFFF\"),this.diffuse=new FSS.Color(e||\"#FFFFFF\"),this.ray=FSS.Vector3.create()},FSS.Light.prototype=Object.create(FSS.Object.prototype),FSS.Vertex=function(t,e,i){this.position=FSS.Vector3.create(t,e,i)},FSS.Vertex.prototype={setPosition:function(t,e,i){return FSS.Vector3.set(this.position,t,e,i),this}},FSS.Triangle=function(t,e,i){this.a=t||new FSS.Vertex,this.b=e||new FSS.Vertex,this.c=i||new FSS.Vertex,this.vertices=[this.a,this.b,this.c],this.u=FSS.Vector3.create(),this.v=FSS.Vector3.create(),this.centroid=FSS.Vector3.create(),this.normal=FSS.Vector3.create(),this.color=new FSS.Color,this.polygon=document.createElementNS(FSS.SVGNS,\"polygon\"),this.polygon.setAttributeNS(null,\"stroke-linejoin\",\"round\"),this.polygon.setAttributeNS(null,\"stroke-miterlimit\",\"1\"),this.polygon.setAttributeNS(null,\"stroke-width\",\"1\"),this.computeCentroid(),this.computeNormal()},FSS.Triangle.prototype={computeCentroid:function(){return this.centroid[0]=this.a.position[0]+this.b.position[0]+this.c.position[0],this.centroid[1]=this.a.position[1]+this.b.position[1]+this.c.position[1],this.centroid[2]=this.a.position[2]+this.b.position[2]+this.c.position[2],FSS.Vector3.divideScalar(this.centroid,3),this},computeNormal:function(){return FSS.Vector3.subtractVectors(this.u,this.b.position,this.a.position),FSS.Vector3.subtractVectors(this.v,this.c.position,this.a.position),FSS.Vector3.crossVectors(this.normal,this.u,this.v),FSS.Vector3.normalise(this.normal),this}},FSS.Geometry=function(){this.vertices=[],this.triangles=[],this.dirty=!1},FSS.Geometry.prototype={update:function(){if(this.dirty){var t,e;for(t=this.triangles.length-1;t>=0;t--)e=this.triangles[t],e.computeCentroid(),e.computeNormal();this.dirty=!1}return this}},FSS.Plane=function(t,e,i,r){FSS.Geometry.call(this),this.width=t||100,this.height=e||100,this.segments=i||4,this.slices=r||4,this.segmentWidth=this.width/this.segments,this.sliceHeight=this.height/this.slices;var s,n,o,h,a,l,u,c=[],S=this.width*-.5,f=.5*this.height;for(s=0;this.segments>=s;s++)for(c.push([]),n=0;this.slices>=n;n++)u=new FSS.Vertex(S+s*this.segmentWidth,f-n*this.sliceHeight),c[s].push(u),this.vertices.push(u);for(s=0;this.segments>s;s++)for(n=0;this.slices>n;n++)o=c[s+0][n+0],h=c[s+0][n+1],a=c[s+1][n+0],l=c[s+1][n+1],t0=new FSS.Triangle(o,h,a),t1=new FSS.Triangle(a,h,l),this.triangles.push(t0,t1)},FSS.Plane.prototype=Object.create(FSS.Geometry.prototype),FSS.Material=function(t,e){this.ambient=new FSS.Color(t||\"#444444\"),this.diffuse=new FSS.Color(e||\"#FFFFFF\"),this.slave=new FSS.Color},FSS.Mesh=function(t,e){FSS.Object.call(this),this.geometry=t||new FSS.Geometry,this.material=e||new FSS.Material,this.side=FSS.FRONT,this.visible=!0},FSS.Mesh.prototype=Object.create(FSS.Object.prototype),FSS.Mesh.prototype.update=function(t,e){var i,r,s,n,o;if(this.geometry.update(),e)for(i=this.geometry.triangles.length-1;i>=0;i--){for(r=this.geometry.triangles[i],FSS.Vector4.set(r.color.rgba),s=t.length-1;s>=0;s--)n=t[s],FSS.Vector3.subtractVectors(n.ray,n.position,r.centroid),FSS.Vector3.normalise(n.ray),o=FSS.Vector3.dot(r.normal,n.ray),this.side===FSS.FRONT?o=Math.max(o,0):this.side===FSS.BACK?o=Math.abs(Math.min(o,0)):this.side===FSS.DOUBLE&&(o=Math.max(Math.abs(o),0)),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.ambient.rgba,n.ambient.rgba),FSS.Vector4.add(r.color.rgba,this.material.slave.rgba),FSS.Vector4.multiplyVectors(this.material.slave.rgba,this.material.diffuse.rgba,n.diffuse.rgba),FSS.Vector4.multiplyScalar(this.material.slave.rgba,o),FSS.Vector4.add(r.color.rgba,this.material.slave.rgba);FSS.Vector4.clamp(r.color.rgba,0,1)}return this},FSS.Scene=function(){this.meshes=[],this.lights=[]},FSS.Scene.prototype={add:function(t){return t instanceof FSS.Mesh&&!~this.meshes.indexOf(t)?this.meshes.push(t):t instanceof FSS.Light&&!~this.lights.indexOf(t)&&this.lights.push(t),this},remove:function(t){return t instanceof FSS.Mesh&&~this.meshes.indexOf(t)?this.meshes.splice(this.meshes.indexOf(t),1):t instanceof FSS.Light&&~this.lights.indexOf(t)&&this.lights.splice(this.lights.indexOf(t),1),this}},FSS.Renderer=function(){this.width=0,this.height=0,this.halfWidth=0,this.halfHeight=0},FSS.Renderer.prototype={setSize:function(t,e){return this.width!==t||this.height!==e?(this.width=t,this.height=e,this.halfWidth=.5*this.width,this.halfHeight=.5*this.height,this):void 0},clear:function(){return this},render:function(){return this}},FSS.CanvasRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement(\"canvas\"),this.element.style.display=\"block\",this.context=this.element.getContext(\"2d\"),this.setSize(this.element.width,this.element.height)},FSS.CanvasRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.CanvasRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.width=t,this.element.height=e,this.context.setTransform(1,0,0,-1,this.halfWidth,this.halfHeight),this},FSS.CanvasRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.context.clearRect(-this.halfWidth,-this.halfHeight,this.width,this.height),this},FSS.CanvasRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,i,r,s,n;for(this.clear(),this.context.lineJoin=\"round\",this.context.lineWidth=1,e=t.meshes.length-1;e>=0;e--)if(i=t.meshes[e],i.visible)for(i.update(t.lights,!0),r=i.geometry.triangles.length-1;r>=0;r--)s=i.geometry.triangles[r],n=s.color.format(),this.context.beginPath(),this.context.moveTo(s.a.position[0],s.a.position[1]),this.context.lineTo(s.b.position[0],s.b.position[1]),this.context.lineTo(s.c.position[0],s.c.position[1]),this.context.closePath(),this.context.strokeStyle=n,this.context.fillStyle=n,this.context.stroke(),this.context.fill();return this},FSS.WebGLRenderer=function(){FSS.Renderer.call(this),this.element=document.createElement(\"canvas\"),this.element.style.display=\"block\",this.vertices=null,this.lights=null;var t={preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0,stencil:!0,alpha:!0};return this.gl=this.getContext(this.element,t),this.unsupported=!this.gl,this.unsupported?\"WebGL is not supported by your browser.\":(this.gl.clearColor(0,0,0,0),this.gl.enable(this.gl.DEPTH_TEST),this.setSize(this.element.width,this.element.height),void 0)},FSS.WebGLRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.WebGLRenderer.prototype.getContext=function(t,e){var i=!1;try{if(!(i=t.getContext(\"experimental-webgl\",e)))throw\"Error creating WebGL context.\"}catch(r){console.error(r)}return i},FSS.WebGLRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.unsupported?void 0:(this.element.width=t,this.element.height=e,this.gl.viewport(0,0,t,e),this)},FSS.WebGLRenderer.prototype.clear=function(){return FSS.Renderer.prototype.clear.call(this),this.unsupported?void 0:(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this)},FSS.WebGLRenderer.prototype.render=function(t){if(FSS.Renderer.prototype.render.call(this,t),!this.unsupported){var e,i,r,s,n,o,h,a,l,u,c,S,f,m,g,d=!1,p=t.lights.length,F=0;if(this.clear(),this.lights!==p){if(this.lights=p,!(this.lights>0))return;this.buildProgram(p)}if(this.program){for(e=t.meshes.length-1;e>=0;e--)i=t.meshes[e],i.geometry.dirty&&(d=!0),i.update(t.lights,!1),F+=3*i.geometry.triangles.length;if(d||this.vertices!==F){this.vertices=F;for(a in this.program.attributes){for(u=this.program.attributes[a],u.data=new FSS.Array(F*u.size),f=0,e=t.meshes.length-1;e>=0;e--)for(i=t.meshes[e],r=0,s=i.geometry.triangles.length;s>r;r++)for(n=i.geometry.triangles[r],m=0,g=n.vertices.length;g>m;m++){switch(vertex=n.vertices[m],a){case\"side\":this.setBufferData(f,u,i.side);break;case\"position\":this.setBufferData(f,u,vertex.position);break;case\"centroid\":this.setBufferData(f,u,n.centroid);break;case\"normal\":this.setBufferData(f,u,n.normal);break;case\"ambient\":this.setBufferData(f,u,i.material.ambient.rgba);break;case\"diffuse\":this.setBufferData(f,u,i.material.diffuse.rgba)}f++}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,u.buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,u.data,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(u.location),this.gl.vertexAttribPointer(u.location,u.size,this.gl.FLOAT,!1,0,0)}}for(this.setBufferData(0,this.program.uniforms.resolution,[this.width,this.height,this.width]),o=p-1;o>=0;o--)h=t.lights[o],this.setBufferData(o,this.program.uniforms.lightPosition,h.position),this.setBufferData(o,this.program.uniforms.lightAmbient,h.ambient.rgba),this.setBufferData(o,this.program.uniforms.lightDiffuse,h.diffuse.rgba);for(l in this.program.uniforms)switch(u=this.program.uniforms[l],S=u.location,c=u.data,u.structure){case\"3f\":this.gl.uniform3f(S,c[0],c[1],c[2]);break;case\"3fv\":this.gl.uniform3fv(S,c);break;case\"4fv\":this.gl.uniform4fv(S,c)}}return this.gl.drawArrays(this.gl.TRIANGLES,0,this.vertices),this}},FSS.WebGLRenderer.prototype.setBufferData=function(t,e,i){if(FSS.Utils.isNumber(i))e.data[t*e.size]=i;else for(var r=i.length-1;r>=0;r--)e.data[t*e.size+r]=i[r]},FSS.WebGLRenderer.prototype.buildProgram=function(t){if(!this.unsupported){var e=FSS.WebGLRenderer.VS(t),i=FSS.WebGLRenderer.FS(t),r=e+i;if(!this.program||this.program.code!==r){var s=this.gl.createProgram(),n=this.buildShader(this.gl.VERTEX_SHADER,e),o=this.buildShader(this.gl.FRAGMENT_SHADER,i);if(this.gl.attachShader(s,n),this.gl.attachShader(s,o),this.gl.linkProgram(s),!this.gl.getProgramParameter(s,this.gl.LINK_STATUS)){var h=this.gl.getError(),a=this.gl.getProgramParameter(s,this.gl.VALIDATE_STATUS);return console.error(\"Could not initialise shader.\\nVALIDATE_STATUS: \"+a+\"\\nERROR: \"+h),null}return this.gl.deleteShader(o),this.gl.deleteShader(n),s.code=r,s.attributes={side:this.buildBuffer(s,\"attribute\",\"aSide\",1,\"f\"),position:this.buildBuffer(s,\"attribute\",\"aPosition\",3,\"v3\"),centroid:this.buildBuffer(s,\"attribute\",\"aCentroid\",3,\"v3\"),normal:this.buildBuffer(s,\"attribute\",\"aNormal\",3,\"v3\"),ambient:this.buildBuffer(s,\"attribute\",\"aAmbient\",4,\"v4\"),diffuse:this.buildBuffer(s,\"attribute\",\"aDiffuse\",4,\"v4\")},s.uniforms={resolution:this.buildBuffer(s,\"uniform\",\"uResolution\",3,\"3f\",1),lightPosition:this.buildBuffer(s,\"uniform\",\"uLightPosition\",3,\"3fv\",t),lightAmbient:this.buildBuffer(s,\"uniform\",\"uLightAmbient\",4,\"4fv\",t),lightDiffuse:this.buildBuffer(s,\"uniform\",\"uLightDiffuse\",4,\"4fv\",t)},this.program=s,this.gl.useProgram(this.program),s}}},FSS.WebGLRenderer.prototype.buildShader=function(t,e){if(!this.unsupported){var i=this.gl.createShader(t);return this.gl.shaderSource(i,e),this.gl.compileShader(i),this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(console.error(this.gl.getShaderInfoLog(i)),null)}},FSS.WebGLRenderer.prototype.buildBuffer=function(t,e,i,r,s,n){var o={buffer:this.gl.createBuffer(),size:r,structure:s,data:null};switch(e){case\"attribute\":o.location=this.gl.getAttribLocation(t,i);break;case\"uniform\":o.location=this.gl.getUniformLocation(t,i)}return n&&(o.data=new FSS.Array(n*r)),o},FSS.WebGLRenderer.VS=function(t){var e=[\"precision mediump float;\",\"#define LIGHTS \"+t,\"attribute float aSide;\",\"attribute vec3 aPosition;\",\"attribute vec3 aCentroid;\",\"attribute vec3 aNormal;\",\"attribute vec4 aAmbient;\",\"attribute vec4 aDiffuse;\",\"uniform vec3 uResolution;\",\"uniform vec3 uLightPosition[LIGHTS];\",\"uniform vec4 uLightAmbient[LIGHTS];\",\"uniform vec4 uLightDiffuse[LIGHTS];\",\"varying vec4 vColor;\",\"void main() {\",\"vColor = vec4(0.0);\",\"vec3 position = aPosition / uResolution * 2.0;\",\"for (int i = 0; i < LIGHTS; i++) {\",\"vec3 lightPosition = uLightPosition[i];\",\"vec4 lightAmbient = uLightAmbient[i];\",\"vec4 lightDiffuse = uLightDiffuse[i];\",\"vec3 ray = normalize(lightPosition - aCentroid);\",\"float illuminance = dot(aNormal, ray);\",\"if (aSide == 0.0) {\",\"illuminance = max(illuminance, 0.0);\",\"} else if (aSide == 1.0) {\",\"illuminance = abs(min(illuminance, 0.0));\",\"} else if (aSide == 2.0) {\",\"illuminance = max(abs(illuminance), 0.0);\",\"}\",\"vColor += aAmbient * lightAmbient;\",\"vColor += aDiffuse * lightDiffuse * illuminance;\",\"}\",\"vColor = clamp(vColor, 0.0, 1.0);\",\"gl_Position = vec4(position, 1.0);\",\"}\"].join(\"\\n\");return e},FSS.WebGLRenderer.FS=function(){var t=[\"precision mediump float;\",\"varying vec4 vColor;\",\"void main() {\",\"gl_FragColor = vColor;\",\"}\"].join(\"\\n\");return t},FSS.SVGRenderer=function(){FSS.Renderer.call(this),this.element=document.createElementNS(FSS.SVGNS,\"svg\"),this.element.setAttribute(\"xmlns\",FSS.SVGNS),this.element.setAttribute(\"version\",\"1.1\"),this.element.style.display=\"block\",this.setSize(300,150)},FSS.SVGRenderer.prototype=Object.create(FSS.Renderer.prototype),FSS.SVGRenderer.prototype.setSize=function(t,e){return FSS.Renderer.prototype.setSize.call(this,t,e),this.element.setAttribute(\"width\",t),this.element.setAttribute(\"height\",e),this},FSS.SVGRenderer.prototype.clear=function(){FSS.Renderer.prototype.clear.call(this);for(var t=this.element.childNodes.length-1;t>=0;t--)this.element.removeChild(this.element.childNodes[t]);return this},FSS.SVGRenderer.prototype.render=function(t){FSS.Renderer.prototype.render.call(this,t);var e,i,r,s,n,o;for(e=t.meshes.length-1;e>=0;e--)if(i=t.meshes[e],i.visible)for(i.update(t.lights,!0),r=i.geometry.triangles.length-1;r>=0;r--)s=i.geometry.triangles[r],s.polygon.parentNode!==this.element&&this.element.appendChild(s.polygon),n=this.formatPoint(s.a)+\" \",n+=this.formatPoint(s.b)+\" \",n+=this.formatPoint(s.c),o=this.formatStyle(s.color.format()),s.polygon.setAttributeNS(null,\"points\",n),s.polygon.setAttributeNS(null,\"style\",o);return this},FSS.SVGRenderer.prototype.formatPoint=function(t){return this.halfWidth+t.position[0]+\",\"+(this.halfHeight-t.position[1])},FSS.SVGRenderer.prototype.formatStyle=function(t){var e=\"fill:\"+t+\";\";return e+=\"stroke:\"+t+\";\"};\r\n}\r\n\r\nfunction initBackground() {\r\n  var container = document.getElementById('background-container');\r\n  var output = document.getElementById('background-output');\r\n\r\n  if (!config.background.enabled) {\r\n    return;\r\n  }\r\n\r\n  initPlugin();\r\n\r\n  config.background.LIGHT.bounds = FSS.Vector3.create(),\r\n  config.background.LIGHT.step = FSS.Vector3.create(\r\n      Math.randomInRange(0.2, 1.0),\r\n      Math.randomInRange(0.2, 1.0),\r\n      Math.randomInRange(0.2, 1.0)\r\n  )\r\n\r\n  //------------------------------\r\n  // Global Properties\r\n  //------------------------------\r\n  var now, start = Date.now();\r\n  var center = FSS.Vector3.create();\r\n  var attractor = FSS.Vector3.create();\r\n  var renderer, scene, mesh, geometry, material;\r\n  var webglRenderer, canvasRenderer, svgRenderer;\r\n  var gui, autopilotController;\r\n\r\n\r\n  //------------------------------\r\n  // Methods\r\n  //------------------------------\r\n  function initialise() {\r\n    createRenderer();\r\n    createScene();\r\n    createMesh();\r\n    createLights();\r\n    addEventListeners();\r\n    resize(container.offsetWidth, container.offsetHeight);\r\n    animate();\r\n  }\r\n\r\n  function createRenderer() {\r\n    webglRenderer = new FSS.WebGLRenderer();\r\n    canvasRenderer = new FSS.CanvasRenderer();\r\n    svgRenderer = new FSS.SVGRenderer();\r\n    setRenderer(config.background.RENDER.renderer);\r\n  }\r\n\r\n  function setRenderer(index) {\r\n    if (renderer) {\r\n      output.removeChild(renderer.element);\r\n    }\r\n\r\n    renderer = canvasRenderer;\r\n    renderer.setSize(container.offsetWidth, container.offsetHeight);\r\n    output.appendChild(renderer.element);\r\n  }\r\n\r\n  function createScene() {\r\n    scene = new FSS.Scene();\r\n  }\r\n\r\n  function createMesh() {\r\n    scene.remove(mesh);\r\n    renderer.clear();\r\n    geometry = new FSS.Plane(config.background.MESH.width * renderer.width, config.background.MESH.height * renderer.height, config.background.MESH.segments, config.background.MESH.slices);\r\n    material = new FSS.Material(config.background.MESH.ambient, config.background.MESH.diffuse);\r\n    mesh = new FSS.Mesh(geometry, material);\r\n    scene.add(mesh);\r\n\r\n    // Augment vertices for animation\r\n    var v, vertex;\r\n    for (v = geometry.vertices.length - 1; v >= 0; v--) {\r\n      vertex = geometry.vertices[v];\r\n      vertex.anchor = FSS.Vector3.clone(vertex.position);\r\n      vertex.step = FSS.Vector3.create(\r\n        Math.randomInRange(0.2, 1.0),\r\n        Math.randomInRange(0.2, 1.0),\r\n        Math.randomInRange(0.2, 1.0)\r\n      );\r\n      vertex.time = Math.randomInRange(0, Math.PIM2);\r\n    }\r\n  }\r\n\r\n  function createLights() {\r\n    var l, light;\r\n    for (l = scene.lights.length - 1; l >= 0; l--) {\r\n      light = scene.lights[l];\r\n      scene.remove(light);\r\n    }\r\n    renderer.clear();\r\n    for (l = 0; l < config.background.LIGHT.count; l++) {\r\n      light = new FSS.Light(config.background.LIGHT.ambient, config.background.LIGHT.diffuse);\r\n      light.ambientHex = light.ambient.format();\r\n      light.diffuseHex = light.diffuse.format();\r\n      scene.add(light);\r\n\r\n      // Augment light for animation\r\n      light.mass = Math.randomInRange(0.5, 1);\r\n      light.velocity = FSS.Vector3.create();\r\n      light.acceleration = FSS.Vector3.create();\r\n      light.force = FSS.Vector3.create();\r\n\r\n      // Ring SVG Circle\r\n      light.ring = document.createElementNS(FSS.SVGNS, 'circle');\r\n      light.ring.setAttributeNS(null, 'stroke', light.ambientHex);\r\n      light.ring.setAttributeNS(null, 'stroke-width', '0.5');\r\n      light.ring.setAttributeNS(null, 'fill', 'none');\r\n      light.ring.setAttributeNS(null, 'r', '10');\r\n\r\n      // Core SVG Circle\r\n      light.core = document.createElementNS(FSS.SVGNS, 'circle');\r\n      light.core.setAttributeNS(null, 'fill', light.diffuseHex);\r\n      light.core.setAttributeNS(null, 'r', '4');\r\n    }\r\n  }\r\n\r\n  function resize(width, height) {\r\n    renderer.setSize(width, height);\r\n    FSS.Vector3.set(center, renderer.halfWidth, renderer.halfHeight);\r\n    createMesh();\r\n  }\r\n\r\n  function animate() {\r\n    now = Date.now() - start;\r\n    update();\r\n    render();\r\n    requestAnimationFrame(animate);\r\n  }\r\n\r\n  function update() {\r\n    var ox, oy, oz, l, light, v, vertex, offset = config.background.MESH.depth/2;\r\n\r\n    // Update Bounds\r\n    FSS.Vector3.copy(config.background.LIGHT.bounds, center);\r\n    FSS.Vector3.multiplyScalar(config.background.LIGHT.bounds, config.background.LIGHT.xyScalar);\r\n\r\n    // Update Attractor\r\n    FSS.Vector3.setZ(attractor, config.background.LIGHT.zOffset);\r\n\r\n    // Overwrite the Attractor position\r\n    if (config.background.LIGHT.autopilot) {\r\n      ox = Math.sin(config.background.LIGHT.step[0] * now * config.background.LIGHT.speed);\r\n      oy = Math.cos(config.background.LIGHT.step[1] * now * config.background.LIGHT.speed);\r\n      FSS.Vector3.set(attractor,\r\n        config.background.LIGHT.bounds[0]*ox,\r\n        config.background.LIGHT.bounds[1]*oy,\r\n        config.background.LIGHT.zOffset);\r\n    }\r\n\r\n    // Animate Lights\r\n    for (l = scene.lights.length - 1; l >= 0; l--) {\r\n      light = scene.lights[l];\r\n\r\n      // Reset the z position of the light\r\n      FSS.Vector3.setZ(light.position, config.background.LIGHT.zOffset);\r\n\r\n      // Calculate the force Luke!\r\n      var D = Math.clamp(FSS.Vector3.distanceSquared(light.position, attractor), config.background.LIGHT.minDistance, config.background.LIGHT.maxDistance);\r\n      var F = config.background.LIGHT.gravity * light.mass / D;\r\n      FSS.Vector3.subtractVectors(light.force, attractor, light.position);\r\n      FSS.Vector3.normalise(light.force);\r\n      FSS.Vector3.multiplyScalar(light.force, F);\r\n\r\n      // Update the light position\r\n      FSS.Vector3.set(light.acceleration);\r\n      FSS.Vector3.add(light.acceleration, light.force);\r\n      FSS.Vector3.add(light.velocity, light.acceleration);\r\n      FSS.Vector3.multiplyScalar(light.velocity, config.background.LIGHT.dampening);\r\n      FSS.Vector3.limit(light.velocity, config.background.LIGHT.minLimit, config.background.LIGHT.maxLimit);\r\n      FSS.Vector3.add(light.position, light.velocity);\r\n    }\r\n\r\n    // Animate Vertices\r\n    for (v = geometry.vertices.length - 1; v >= 0; v--) {\r\n      vertex = geometry.vertices[v];\r\n      ox = Math.sin(vertex.time + vertex.step[0] * now * config.background.MESH.speed);\r\n      oy = Math.cos(vertex.time + vertex.step[1] * now * config.background.MESH.speed);\r\n      oz = Math.sin(vertex.time + vertex.step[2] * now * config.background.MESH.speed);\r\n      FSS.Vector3.set(vertex.position,\r\n        config.background.MESH.xRange*geometry.segmentWidth*ox,\r\n        config.background.MESH.yRange*geometry.sliceHeight*oy,\r\n        config.background.MESH.zRange*offset*oz - offset);\r\n      FSS.Vector3.add(vertex.position, vertex.anchor);\r\n    }\r\n\r\n    // Set the Geometry to dirty\r\n    geometry.dirty = true;\r\n  }\r\n\r\n  function render() {\r\n    renderer.render(scene);\r\n\r\n    // Draw Lights\r\n    if (config.background.LIGHT.draw) {\r\n      var l, lx, ly, light;\r\n      for (l = scene.lights.length - 1; l >= 0; l--) {\r\n        light = scene.lights[l];\r\n        lx = light.position[0];\r\n        ly = light.position[1];\r\n        switch(config.background.RENDER.renderer) {\r\n          case CANVAS:\r\n            renderer.context.lineWidth = 0.5;\r\n            renderer.context.beginPath();\r\n            renderer.context.arc(lx, ly, 10, 0, Math.PIM2);\r\n            renderer.context.strokeStyle = light.ambientHex;\r\n            renderer.context.stroke();\r\n            renderer.context.beginPath();\r\n            renderer.context.arc(lx, ly, 4, 0, Math.PIM2);\r\n            renderer.context.fillStyle = light.diffuseHex;\r\n            renderer.context.fill();\r\n            break;\r\n          case SVG:\r\n            lx += renderer.halfWidth;\r\n            ly = renderer.halfHeight - ly;\r\n            light.core.setAttributeNS(null, 'fill', light.diffuseHex);\r\n            light.core.setAttributeNS(null, 'cx', lx);\r\n            light.core.setAttributeNS(null, 'cy', ly);\r\n            renderer.element.appendChild(light.core);\r\n            light.ring.setAttributeNS(null, 'stroke', light.ambientHex);\r\n            light.ring.setAttributeNS(null, 'cx', lx);\r\n            light.ring.setAttributeNS(null, 'cy', ly);\r\n            renderer.element.appendChild(light.ring);\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function addEventListeners() {\r\n    window.addEventListener('resize', onWindowResize);\r\n    container.addEventListener('click', onMouseClick);\r\n    container.addEventListener('mousemove', onMouseMove);\r\n  }\r\n\r\n  //------------------------------\r\n  // Callbacks\r\n  //------------------------------\r\n\r\n  function onMouseClick(event) {\r\n    if (config.background.LIGHT.followMouseClicks) {\r\n      FSS.Vector3.set(attractor, event.x, renderer.height - event.y);\r\n      FSS.Vector3.subtract(attractor, center);\r\n      config.background.LIGHT.autopilot = !config.background.LIGHT.autopilot;\r\n      autopilotController.updateDisplay();\r\n    }\r\n  }\r\n\r\n  function onMouseMove(event) {\r\n    FSS.Vector3.set(attractor, event.x, renderer.height - event.y);\r\n    FSS.Vector3.subtract(attractor, center);\r\n  }\r\n\r\n  function onWindowResize(event) {\r\n    resize(container.offsetWidth, container.offsetHeight);\r\n    render();\r\n  }\r\n\r\n\r\n\r\n  // Let there be light!\r\n  initialise();\r\n}\r\n","var config = {\r\n    countdown: {\r\n        year: 2015,\r\n        month: 11,\r\n        day: 10,\r\n        hour: 0,\r\n        minute: 0,\r\n        second: 0\r\n    },\r\n\r\n    subscription_form_tooltips: {\r\n        success: 'You have been subscribed!',\r\n        already_subscribed: 'You are already subscribed',\r\n        empty_email: 'Please, Enter your email',\r\n        invalid_email: 'Email is invalid. Enter valid email address',\r\n        default_error: 'Error! Contact administration'\r\n    }\r\n}\r\n","$(function() {\r\n    var $body = $(document.body),\r\n        $window = $(window);\r\n\r\n\r\n\r\n    // Background\r\n\r\n    var canvas = document.createElement('canvas');\r\n\r\n    backgroundEnabled = canvas.getContext && canvas.getContext('2d') && $('#background-container').css('display') != 'none';\r\n\r\n    if (backgroundEnabled) {\r\n        config.background = {\r\n            enabled: true,\r\n\r\n            RENDER: {\r\n                renderer: 'canvas'\r\n            },\r\n\r\n            MESH: {\r\n                width: 1.2,\r\n                height: 1.2,\r\n                depth: 10,\r\n                segments: 16,\r\n                slices: 8,\r\n                xRange: 0.8,\r\n                yRange: 0.1,\r\n                zRange: 1.0,\r\n                ambient: '#555555',\r\n                diffuse: '#FFFFFF',\r\n                speed: 0.0005\r\n            },\r\n\r\n            LIGHT: {\r\n                count: 2,\r\n                xyScalar: 1,\r\n                zOffset: 150,\r\n                ambient: '#880066',\r\n                diffuse: '#D77600',\r\n                speed: 0.001,\r\n                gravity: 1200,\r\n                dampening: 0.15,\r\n                minLimit: 8,\r\n                maxLimit: null,\r\n                minDistance: 20,\r\n                maxDistance: 400,\r\n                autopilot: true,\r\n                draw: false\r\n            }\r\n        }\r\n\r\n\r\n        if ($body.hasClass('theme-ice')) {\r\n            config.background.LIGHT.ambient = '#1165A4';\r\n            config.background.LIGHT.diffuse = '#514311';\r\n        } else if ($body.hasClass('theme-nature')) {\r\n            config.background.LIGHT.ambient = '#00935B';\r\n            config.background.LIGHT.diffuse = '#02480A';\r\n        } else if ($body.hasClass('theme-sea')) {\r\n            config.background.LIGHT.ambient = '#76E4CE';\r\n            config.background.LIGHT.diffuse = '#0E411F';\r\n            config.background.LIGHT.zOffset = 100;\r\n        } else if ($body.hasClass('theme-candy')) {\r\n            config.background.LIGHT.ambient = '#A42D71';\r\n            config.background.LIGHT.diffuse = '#4E2F1B';\r\n        } else if ($body.hasClass('theme-peach')) {\r\n            config.background.LIGHT.ambient = '#FF7171';\r\n            config.background.LIGHT.diffuse = '#895321';\r\n            config.background.LIGHT.zOffset = 100;\r\n        } else if ($body.hasClass('theme-light')) {\r\n            config.background.LIGHT.ambient = '#DBAA95';\r\n            config.background.LIGHT.diffuse = '#4F460B';\r\n        } else if ($body.hasClass('theme-darkness')) {\r\n            config.background.LIGHT.ambient = '#3C3C3C';\r\n            config.background.LIGHT.diffuse = '#494949';\r\n            config.background.LIGHT.zOffset = 200;\r\n        }\r\n\r\n        initBackground();\r\n    }\r\n\r\n\r\n\r\n    // Countdown\r\n\r\n    var date = new Date(config.countdown.year,\r\n                        config.countdown.month - 1,\r\n                        config.countdown.day,\r\n                        config.countdown.hour,\r\n                        config.countdown.minute,\r\n                        config.countdown.second),\r\n        $countdownNumbers = {\r\n            days: $('#countdown-days'),\r\n            hours: $('#countdown-hours'),\r\n            minutes: $('#countdown-minutes'),\r\n            seconds: $('#countdown-seconds')\r\n        };\r\n\r\n    $('#countdown').countdown(date).on('update.countdown', function(event) {\r\n        $countdownNumbers.days.text(event.offset.totalDays);\r\n        $countdownNumbers.hours.text(('0' + event.offset.hours).slice(-2));\r\n        $countdownNumbers.minutes.text(('0' + event.offset.minutes).slice(-2));\r\n        $countdownNumbers.seconds.text(('0' + event.offset.seconds).slice(-2));\r\n    });\r\n\r\n\r\n\r\n    // Subscription form\r\n\r\n    var messages = config.subscription_form_tooltips,\r\n        error = false,\r\n        $form = $('#subscription-form'),\r\n        $email = $('#subscription-form-email'),\r\n        $button = $('#subscription-form-submit'),\r\n        $tooltip;\r\n\r\n    function renderTooltip(type, message) {\r\n        var offset;\r\n\r\n        if (!$tooltip) {\r\n            $tooltip = $('<p class=\"subscription-form-tooltip\"></p>').appendTo($form);\r\n        }\r\n\r\n        if (type == 'success') {\r\n            $tooltip.removeClass('error').addClass('success');\r\n        } else {\r\n            $tooltip.removeClass('success').addClass('error');\r\n        }\r\n\r\n        $tooltip.text(message).fadeTo(0, 0);\r\n        offset = $tooltip.outerWidth() / 2;\r\n        $tooltip.css('margin-left', -offset).animate({top: '100%'}, 200).dequeue().fadeTo(200, 1);\r\n    }\r\n\r\n    function hideTooltip() {\r\n        if ($tooltip) {\r\n            $tooltip.animate({top: '120%'}, 200).dequeue().fadeTo(100, 0);\r\n        }\r\n    }\r\n\r\n    function changeFormState(type, message) {\r\n        $email.removeClass('success error');\r\n\r\n        if (type == 'normal') {\r\n            hideTooltip();\r\n        } else {\r\n            renderTooltip(type, message);\r\n            $email.addClass(type);\r\n        }\r\n    }\r\n\r\n    $form.submit(function(event) {\r\n        event.preventDefault();\r\n\r\n        var email = $email.val();\r\n\r\n        if (email.length == 0) {\r\n            changeFormState('error', messages['empty_email']);\r\n        } else {\r\n            $.post('subscribe.html', {\r\n                'email': email,\r\n                'ajax': 1\r\n            }, function(data) {\r\n                if (data.status == 'success') {\r\n                    changeFormState('success', messages['success']);\r\n                } else {\r\n                    switch(data.error) {\r\n                        case 'empty_email':\r\n                        case 'invalid_email':\r\n                        case 'already_subscribed':\r\n                            changeFormState('error', messages[data.error]);\r\n                            break;\r\n\r\n                        default:\r\n                            changeFormState('error', messages['default_error'])\r\n                            break;\r\n                    }\r\n                }\r\n            }, 'json');\r\n        }\r\n    });\r\n\r\n    // Remove tooltip on text change\r\n    $email.on('change focus click keydown', function() {\r\n        if ($email.val().length > 0) {\r\n            changeFormState('normal');\r\n        }\r\n    });\r\n});","$(function() {\r\n    var $html = $('html'),\r\n        $demo_panel = $('#demo-panel'),\r\n        $themeSwitchers = $('.demo-panel-themes li');\r\n\r\n    $('#demo-panel-activator').on('click', function(e) {\r\n        e.preventDefault();\r\n\r\n        $demo_panel.toggleClass('active');\r\n    });\r\n\r\n    $themeSwitchers.on('click', function() {\r\n        var $this = $(this);\r\n\r\n        $themeSwitchers.filter('.active').removeClass('active');\r\n        $this.toggleClass('active');\r\n    });\r\n});"],"sourceRoot":"/source/"}